---
title: 2258. é€ƒç¦»ç«ç¾
date: 2023-11-09 14:07:12
permalink: /pages/129175/
categories:
  - ç®—æ³•
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
tags:
  - Leetcode
  - äºŒåˆ†æŸ¥æ‰¾
author: 
  name: phan
  link: https://gitee.com/blage-coding
---
# [2258. é€ƒç¦»ç«ç¾](https://leetcode.cn/problems/escape-the-spreading-fire/)

## 1.äºŒåˆ†+BFS

äºŒåˆ†æ¡ä»¶ï¼š**ç­‰å¾…æ—¶é—´å°äºæœ€ä½³ç­‰å¾…æ—¶é—´ï¼Œéƒ½å¯ä»¥æˆåŠŸé€ƒç¦»ç«ç¾ï¼›å¤§äºæœ€ä½³ç­‰å¾…æ—¶é—´åˆ™ä¸èƒ½é€ƒ**ç¦»ã€‚å­˜åœ¨å•è°ƒæ€§å› æ­¤å¯ä»¥ä½¿ç”¨äºŒåˆ†æ‰¾å‡ºæœ€ä½³æ—¶é—´ã€‚

è§£é¢˜æµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š

1. ä½¿ç”¨BFSï¼Œè®¡ç®—å‡ºæ¯ä¸ªåœ°æ–¹ç«åŠ¿è”“å»¶çš„æ—¶åˆ»ã€‚
2. äºŒåˆ†æ³•æšä¸¾ç­‰å¾…æ—¶é—´ï¼Œå³**åˆå§‹åŒ–åœ¨(0,0)ç‚¹çš„å‡ºå‘æ—¶åˆ»ï¼Œå¦‚æœåœ¨æŸä¸ªç‚¹çš„å½“å‰æ—¶åˆ»å¤§äºç«åŠ¿è”“å»¶æ—¶åˆ»ï¼Œåˆ™è®¤ä¸ºè¿™ä¸ªç‚¹ä¸å¯è¾¾**ï¼Œå¹¶ä½¿ç”¨BFSæ¥å¯»æ‰¾ç»ˆç‚¹è·¯å¾„ã€‚

### å¯»æ‰¾è¿·å®«è·¯å¾„é‡‡ç”¨DFSè¿˜æ˜¯BFS?

æ— è®ºæ˜¯å“ªç§ç®—æ³•ï¼Œéƒ½éœ€è¦**å¼€è¾Ÿä¸€ä¸ªvisitæ•°ç»„æ¥è®°å½•å·²è®¿é—®èŠ‚ç‚¹**ã€‚

ğŸš€DFSï¼šé€‚ç”¨äº<font color="red">**æ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„ä¸åŒçš„è·¯å¾„**</font>ï¼ŒåŒæ—¶ç®—æ³•å®ç°ä¸Šéœ€è¦å›æº¯+é€’å½’ã€‚

ğŸš€BFSï¼šé€‚ç”¨äº<font color="red">**æ‰¾å‡ºæœ€çŸ­è·ç¦»çš„è·¯å¾„ï¼Œä»¥åŠå­˜åœ¨æ€§åˆ¤æ–­**</font>ã€‚

```java
class Solution {
    int[][] dir=new int[][]{{-1,0},{0,1},{1,0},{0,-1}};
    public int maximumMinutes(int[][] grid) {
        Deque<int[]> queue=new LinkedList<>();
        for(int i=0;i<grid.length;i++){
            for(int j=0;j<grid[0].length;j++){
                if(grid[i][j]==1)queue.offerLast(new int[]{i,j});
                if(grid[i][j]==2) grid[i][j]=-1;
            }
        }
        //è®¡ç®—ç«ç„°è”“å»¶
        while(queue.size()!=0){
            int[] tmp=queue.pollFirst();
            int x=tmp[0],y=tmp[1];
            int time=grid[x][y];
            for(int i=0;i<4;i++){
                int nextX=x+dir[i][0];
                int nextY=y+dir[i][1];
                if((nextX>=0&&nextX<grid.length)&&(nextY>=0&&nextY<grid[0].length)&&grid[nextX][nextY]==0){
                    grid[nextX][nextY]=time+1;
                    queue.offerLast(new int[]{nextX,nextY});
                }
            }
        }
        //äºŒåˆ†é€¼è¿‘ç­‰å¾…æ—¶é—´
        int left = 0, right = grid.length * grid[0].length + 1;
        while (left < right) {
            int mid = (left + right) >> 1;
            if (bfs(grid, mid)) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        if(left==grid.length*grid[0].length+1) return 1000000000;
        else{
            if(bfs(grid,right)) return right;
            return right - 1;
        }

    }
    public boolean bfs(int[][] grid, int nowTIme) {
        int[][] visit = new int[grid.length][grid[0].length];
        Deque<int[]> queue = new LinkedList<>();
        queue.offerLast(new int[]{0, 0, nowTIme});
        while (!queue.isEmpty()) {
            if(visit[grid.length-1][grid[0].length-1] ==1) return true;
            int[] nums = queue.pollFirst();
            int time = nums[2]+1;
            for (int i = 0; i < 4; i++) {
                int row = nums[0] + dir[i][0];
                int line = nums[1] + dir[i][1];
                if ((row >= 0 && row < grid.length) && (line >= 0 && line < grid[0].length) && grid[row][line] != -1&&visit[row][line]==0) {
                    if (grid[row][line]==0||time < grid[row][line] - 1) {
                        visit[row][line] = 1;
                        queue.offerLast(new int[]{row, line, time});
                    } else if (row == grid.length - 1 && line == grid[0].length - 1 && time <= grid[row][line] - 1) {
                        visit[row][line] = 1;
                        queue.offerLast(new int[]{row, line, time});
                    }
                }
            }
        }
        return false;
    }
}
```

