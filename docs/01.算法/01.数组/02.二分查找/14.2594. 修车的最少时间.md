---
title: 2594. 修车的最少时间
date: 2023-09-07 22:07:10
permalink: /pages/6ce924/
categories:
  - 算法
  - 数组
  - 二分查找
tags:
  - Leetcode
  - 二分查找
author: 
  name: phan
  link: https://gitee.com/blage-coding
---
# [2594. 修车的最少时间](https://leetcode.cn/problems/minimum-time-to-repair-cars/)

## 1.二分查找

解题思路：开始的想法是枚举cars，并根据分配策略依次将每一辆车分配给“对应”的工人，但是实际上“分配策略”只能枚举所有工人，这么下来时间O(n*cars)

二分思路：**二分逼近找到最少时间**，对于时间n:

- 如果n不能修完所有的车，那么小于n的时间都不能修完所有的车
- 如果n可以修完所有的车，那么大于n的时间都可以修完所有的车

因此关键在于如果判断在时间n之内是否可以修完所有的车，<font color="red">**因为修车过程是并行的，可以枚举所有工人，计算每个工人的修车数然后加起来**</font>，得到的总车数如果比cars大则说明在时间n内可以修完。时间复杂度(n*log l)，其中l是枚举的时间上限。

```java
class Solution {
    public long repairCars(int[] ranks, int cars) {
        long left=0,right=1l*ranks[0]*cars*cars;
        while(left<right){
            long mid=(left+right)>>1;
            if(check(ranks,cars,mid)) right=mid;
            else left=mid+1;
        }
        return left;
    }
    public boolean check(int[] ranks, int cars,long num){
        long cnt=0;
        for(int x:ranks){
            cnt+=(long) Math.sqrt(num/x);
        }
        return cnt>=cars;
    }
}
```

