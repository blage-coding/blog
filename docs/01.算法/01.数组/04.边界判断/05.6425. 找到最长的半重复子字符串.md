---
title: 6425. æ‰¾åˆ°æœ€é•¿çš„åŠé‡å¤å­å­—ç¬¦ä¸²
date: 2023-06-11 09:41:08
permalink: /pages/02df47/
categories:
  - ç®—æ³•
  - æ•°ç»„
  - è¾¹ç•Œåˆ¤æ–­
tags:
  - Leetcode
  - è¾¹ç•Œåˆ¤æ–­
author: 
  name: phan
  link: https://gitee.com/blage-coding
---
# [6425. æ‰¾åˆ°æœ€é•¿çš„åŠé‡å¤å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/find-the-longest-semi-repetitive-substring/)

## 1.è¾¹ç•Œåˆ¤æ–­

åˆ†æï¼šå­—ç¬¦å­ä¸²åˆ’åˆ†ä¸ºä¸¤ç±»ï¼Œå…¶ä¸­ä¸€ç±»æ˜¯**ä¸å«é‡å¤å­—ç¬¦**ï¼›å¦ä¸€ç±»æ˜¯**è¿ç»­é‡å¤å­ä¸²**ã€‚

å¯¹äºè¿ç»­é‡å¤å­ä¸²è€Œè¨€ï¼Œ**å¦‚æœé‡å¤çš„é•¿åº¦ä¸º2ï¼Œåˆ™å¯ä»¥å°†è¯¥é‡å¤å­ä¸²å‰åä¸¤ä¸ªéé‡å¤å­ä¸²è¿›è¡Œåˆå¹¶**ã€‚å¦åˆ™æ­¤æ—¶æœ€é•¿å­ä¸²ä¸º**å‰åŠæ®µé•¿åº¦åŠ 2ï¼Œæˆ–è€…æ˜¯ååŠæ®µé•¿åº¦åŠ 2**ã€‚

æœ¬é¢˜è¾¹ç•Œæ¡ä»¶éå¸¸å¤šï¼š

- å¯¹äºä¸¤ä¸ªå¯åˆå¹¶çš„éé‡å¤å­ä¸²ï¼Œæ˜¯å¦å¯ä»¥<font color="red">**å†å¾€å„è‡ªå·¦å³è¾¹ç•Œå†è¯»å–è¿ç»­é‡å¤å­ä¸²çš„ä¸€ä¸ªå­—ç¬¦**</font>ã€‚(**asum**ç”¨äºæ§åˆ¶aæ˜¯å¦æ˜¯å¼€å¤´ç¬¬ä¸€ä¸ªéé‡å¤å­ä¸²ï¼Œå¦‚æœä¸æ˜¯åˆ™aå¯ä»¥å‘å·¦è¾¹æ‰©å¼ )
- ä»¥é‡å¤å­ä¸²æ®µç»“æŸæˆ–è€…å¼€å¤´
- å¼€å¤´ç¬¬ä¸€æ®µéé‡å¤å­ä¸²æ˜¯å¦éœ€è¦é¢„è¯»å–(**astart**æ§åˆ¶å…ˆè¯»å–å¼€å¤´ç¬¬ä¸€ä¸ªéé‡å¤å­ä¸²)

ğŸ˜­ğŸ˜­ğŸ˜­ç®—æ³•å¤ªåƒåœ¾ï¼Œå†™çš„æƒ³æ­»ã€‚

```java
class Solution {
    public static int longestSemiRepetitiveSubstring(String s) {
        int res=0,index=0,a=0,b=0;
        boolean astart=true,asum=true;
        while(index<s.length()){
            boolean merge=false;
            if(astart){
                while(index+1<s.length()&&s.charAt(index)!=s.charAt(index+1)) index++;
                if(index==s.length()-1) return s.length();
                a=index;
                res=Math.max(res,a+2);
                astart=false;
            }
            else{
                int sum=1;
                //è®¡ç®—é‡å¤æ®µé•¿åº¦ï¼Œå¹¶å°†indexç½®ä¸ºéé‡å¤æ®µç¬¬ä¸€ä¸ªå­—ç¬¦
                while(index+1<s.length()&&s.charAt(index)==s.charAt(index+1)) {
                    index++;
                    sum++;
                }
                index++;
                //æœç´¢ä»¥é‡å¤æ®µç»“å°¾
                if(index==s.length()){
                    if(asum) asum=false;
                    else {
                        a++;
                    }
                    res=Math.max(res,a+2);
                    break;
                }
                //åˆ¤æ–­æ˜¯å¦èåˆ
                merge = sum > 2 ? false : true;
                //ä¸‹ä¸€ä¸ªéé‡å¤æ®µåªæœ‰ä¸€ä¸ªå­—ç¬¦
                if(index==s.length()-1){
                    if(asum) asum=false;
                    else {
                        a++;
                    }
                    b++;
                    if(merge) res=Math.max(res,a+2+b);
                    else res=Math.max(res,b+2);
                    break;
                }
                //è®¡ç®—éé‡å¤æ®µé•¿åº¦
                while(index+1<s.length()&&s.charAt(index)!=s.charAt(index+1)){
                    index++;
                    b++; //åˆå§‹åŒ–ä¸º0
                }
                //æœç´¢ä»¥éé‡å¤æ®µç»“å°¾
                if(index==s.length()-1) {
                    if(asum) asum=false;
                    else {
                        a++;
                    }
                    b++;
                    if(merge) res=Math.max(res,a+2+b);
                    else res=Math.max(res,b+2);
                    break;
                }
                //åé¢è¿˜æœ‰
                else{
                    if(asum) asum=false;
                    else {
                        a++;
                    }
                    if(merge) res=Math.max(res,a+2+b+1);
                    else res=Math.max(res,b+2);
                }
                a=b;
                b=0;
            }
        }
        return res;
    }
}
```

