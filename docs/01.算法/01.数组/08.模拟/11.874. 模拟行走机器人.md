---
title: 874. æ¨¡æ‹Ÿè¡Œèµ°æœºå™¨äºº
date: 2023-07-19 10:33:49
permalink: /pages/6e2bfe/
categories:
  - ç®—æ³•
  - æ•°ç»„
  - æ¨¡æ‹Ÿ
tags:
  - Leetcode
  - æ¨¡æ‹Ÿ
author: 
  name: phan
  link: https://gitee.com/blage-coding
---
# [874. æ¨¡æ‹Ÿè¡Œèµ°æœºå™¨äºº](https://leetcode.cn/problems/walking-robot-simulation/)

## 1.æ’åº+è¡Œåˆ—å“ˆå¸Œ

åˆ†æï¼šå…ˆå°†æ‰€æœ‰éšœç¢æŒ‰ç…§è¡Œåˆ—ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œè¡Œä¼˜å…ˆã€‚ç„¶åå°†æ‰€æœ‰éšœç¢çš„åæ ‡æ”¾å…¥è¡Œå“ˆå¸Œå’Œåˆ—å“ˆå¸Œè¡¨ä¸­ã€‚**è¡Œå“ˆå¸Œä¸­keyä¸ºxåæ ‡å€¼ï¼Œvalueä¸ºä»å°åˆ°å¤§çš„yåæ ‡åˆ—è¡¨**ã€‚æœºå™¨äººæ¨¡æ‹Ÿæ—¶ï¼Œå› ä¸ºæ‰€æœ‰å“ˆå¸Œè¡¨ä¸­çš„valueéƒ½è¿›è¡Œè¿‡æ’åºï¼Œå› æ­¤éå†æ—¶**é‡åˆ°çš„ç¬¬ä¸€ä¸ªéšœç¢ç‰©å°±æ˜¯è¡Œèµ°è¿‡ç¨‹ä¸­ä¼šæ’ä¸Šçš„éšœç¢ç‰©**ã€‚

è¿™é‡Œæœºå™¨äººæ˜¯æŒ‰ç…§<font color="red">**åŒºé—´**</font>æ¥æ¨¡æ‹Ÿè¡Œèµ°ï¼ŒåŒºé—´æ»¡è¶³åˆ™ä¸€æ­¥åˆ°ä½ã€‚

```java
class Solution {
    public int robotSim(int[] commands, int[][] obstacles) {
        int x=0,y=0;
        int dir=0; // 0å‘åŒ—ï¼Œ1å‘ä¸œï¼Œ2å‘å—ï¼Œ3å‘è¥¿
        Arrays.sort(obstacles,new Comparator<int[]>(){
                public int compare(int[] o1,int[] o2){
                    if(o1[0]!=o2[0])return o1[0]-o2[0];
                    else return o1[1]-o2[1];
                }
            });
        Map<Integer,List<Integer>> row=new HashMap<>();
        Map<Integer,List<Integer>> line=new HashMap<>();
        for(int i=0;i<obstacles.length;i++){
            if(!row.containsKey(obstacles[i][0])) row.put(obstacles[i][0],new ArrayList<>());
            row.get(obstacles[i][0]).add(obstacles[i][1]);
            if(!line.containsKey(obstacles[i][1])) line.put(obstacles[i][1],new ArrayList<>());
            line.get(obstacles[i][1]).add(obstacles[i][0]);
        }
        int res=0;
        for(int i=0;i<commands.length;i++){
            if(commands[i]==-1) dir=(dir+1)%4;
            else if(commands[i]==-2) dir=dir==0?3:dir-1;
            else{
                //å‘åŒ—èµ°
                if(dir==0){
                    int des=y+commands[i];
                    int pos=des;
                    if(row.containsKey(x)){
                        List<Integer> list=row.get(x);
                        for(int k=0;k<list.size();k++){
                            if(y<list.get(k)&&list.get(k)<=des){
                                pos=list.get(k)-1;
                                break;
                            }
                        }
                    }
                    y=pos;
                }
                //å‘ä¸œèµ°
                if(dir==1){
                    int des=x+commands[i];
                    int pos=des;
                    if(line.containsKey(y)){
                        List<Integer> list=line.get(y);
                        for(int k=0;k<list.size();k++){
                            if(x<list.get(k)&&list.get(k)<=des){
                                pos=list.get(k)-1;
                                break;
                            }
                        }
                        
                    }
                    x=pos;
                }
                //å‘å—èµ°
                if(dir==2){
                    int des=y-commands[i];
                    int pos=des;
                    if(row.containsKey(x)){
                        List<Integer> list=row.get(x);
                        for(int k=list.size()-1;k>=0;k--){
                            if(des<=list.get(k)&&list.get(k)<y){
                                pos=list.get(k)+1;
                                break;
                            }
                        }
                        
                    }
                    y=pos;
                }
                //å‘è¥¿èµ°
                if(dir==3){
                   int des=x-commands[i];
                   int pos=des;
                    if(line.containsKey(y)){
                        List<Integer> list=line.get(y);
                        for(int k=list.size()-1;k>=0;k--){
                            if(des<=list.get(k)&&list.get(k)<x){
                                pos=list.get(k)+1;
                                break;
                            }
                        }
                       
                    }
                     x=pos;
                }
            }
            res=Math.max(res,x*x+y*y);
        }
        return res;
    }
}
```

## 2.å“ˆå¸Œä¼˜åŒ–

æœºå™¨äºº<font color="red">**æ¯èµ°ä¸€ä¸ªæ ¼å­**</font>å°±è¿›è¡Œåˆ¤æ–­å’Œæ¨¡æ‹Ÿã€‚

å› ä¸ºæ˜¯æŒ‰ç‚¹è¡Œèµ°ï¼Œå› æ­¤å“ˆå¸Œè¡¨ç›´æ¥ä¿å­˜éšœç¢ç‰©çš„åæ ‡ã€‚è€Œå¯¹äºä¸€ä¸ªäºŒç»´åæ ‡çš„å“ˆå¸Œï¼Œæœ‰å‡ ç§æ–¹å¼ï¼š

- å­—ç¬¦ä¸²ï¼šString.valueOf(x)+","+String.valueOf(y)
- å°†äºŒç»´æ•°ç»„Flattenå±•å¹³ï¼Œæ¯ä¸€ä¸ªåæ ‡å¯¹åº”ä¸€ä¸ªä¸€ç»´åæ ‡x*length+y

PS:äºŒç»´æ–¹å‘æ•°ç»„åˆæ²¡ç”¨ä¸ŠğŸ˜­ğŸ˜­ã€‚æ˜¯çœŸä¸çˆ±ç”¨ã€‚è¿™ç±»é¢˜ç›®æ€è€ƒæ—¶è¦æ·¡åŒ–â€æ–¹å‘â€œçš„åˆ†ç±»è®¨è®ºæ€æƒ³ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œæ‰èƒ½ç”¨ä¸ŠäºŒç»´æ–¹å‘æ•°ç»„ã€‚