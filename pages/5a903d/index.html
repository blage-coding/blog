<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Api-gateway-assist | Blage&#39;s Coding</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css">
    <script async="async" src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>
    <meta name="description" content="webåç«¯æŠ€æœ¯åšå®¢,ä¸“æ³¨å­¦ä¹ ä¸æ€»ç»“ã€‚spring,redis,gitç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="åç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,åç«¯,spring,redis,springcloud,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.0bbcb3d9.css" as="style"><link rel="preload" href="/assets/js/app.36a8861c.js" as="script"><link rel="preload" href="/assets/js/2.1ba3a2de.js" as="script"><link rel="preload" href="/assets/js/3.6e4df72f.js" as="script"><link rel="preload" href="/assets/js/465.3bd78a23.js" as="script"><link rel="prefetch" href="/assets/js/10.c58057de.js"><link rel="prefetch" href="/assets/js/100.d441dbf0.js"><link rel="prefetch" href="/assets/js/101.78fe1fa4.js"><link rel="prefetch" href="/assets/js/102.647ce353.js"><link rel="prefetch" href="/assets/js/103.d03a8ab2.js"><link rel="prefetch" href="/assets/js/104.1334d321.js"><link rel="prefetch" href="/assets/js/105.cf0e3cc9.js"><link rel="prefetch" href="/assets/js/106.4e9bdd09.js"><link rel="prefetch" href="/assets/js/107.b22d62f5.js"><link rel="prefetch" href="/assets/js/108.50d6a5bd.js"><link rel="prefetch" href="/assets/js/109.3b9acffe.js"><link rel="prefetch" href="/assets/js/11.d315ddaf.js"><link rel="prefetch" href="/assets/js/110.0234ef0b.js"><link rel="prefetch" href="/assets/js/111.b1bff776.js"><link rel="prefetch" href="/assets/js/112.36c74fab.js"><link rel="prefetch" href="/assets/js/113.560334ae.js"><link rel="prefetch" href="/assets/js/114.adc23b99.js"><link rel="prefetch" href="/assets/js/115.d9e71f5c.js"><link rel="prefetch" href="/assets/js/116.32911c0b.js"><link rel="prefetch" href="/assets/js/117.119c7cf8.js"><link rel="prefetch" href="/assets/js/118.f20c6b9e.js"><link rel="prefetch" href="/assets/js/119.ec1eb812.js"><link rel="prefetch" href="/assets/js/12.ae4fc36f.js"><link rel="prefetch" href="/assets/js/120.2559d9c2.js"><link rel="prefetch" href="/assets/js/121.0ea12d60.js"><link rel="prefetch" href="/assets/js/122.18af1954.js"><link rel="prefetch" href="/assets/js/123.1725de72.js"><link rel="prefetch" href="/assets/js/124.56fca314.js"><link rel="prefetch" href="/assets/js/125.bf30dd23.js"><link rel="prefetch" href="/assets/js/126.b113944a.js"><link rel="prefetch" href="/assets/js/127.b3e875c8.js"><link rel="prefetch" href="/assets/js/128.79f2565b.js"><link rel="prefetch" href="/assets/js/129.be36dadc.js"><link rel="prefetch" href="/assets/js/13.90c895cd.js"><link rel="prefetch" href="/assets/js/130.bb4c09ea.js"><link rel="prefetch" href="/assets/js/131.4b78d7b2.js"><link rel="prefetch" href="/assets/js/132.295f777f.js"><link rel="prefetch" href="/assets/js/133.e325508e.js"><link rel="prefetch" href="/assets/js/134.bec1d394.js"><link rel="prefetch" href="/assets/js/135.97742a95.js"><link rel="prefetch" href="/assets/js/136.ec2c8cc6.js"><link rel="prefetch" href="/assets/js/137.88e77cf6.js"><link rel="prefetch" href="/assets/js/138.884c718d.js"><link rel="prefetch" href="/assets/js/139.34be5c25.js"><link rel="prefetch" href="/assets/js/14.04e3cf36.js"><link rel="prefetch" href="/assets/js/140.622c35eb.js"><link rel="prefetch" href="/assets/js/141.79713e4e.js"><link rel="prefetch" href="/assets/js/142.534b8172.js"><link rel="prefetch" href="/assets/js/143.28d59575.js"><link rel="prefetch" href="/assets/js/144.51695ffa.js"><link rel="prefetch" href="/assets/js/145.9d456e08.js"><link rel="prefetch" href="/assets/js/146.5adbeaa3.js"><link rel="prefetch" href="/assets/js/147.349c32df.js"><link rel="prefetch" href="/assets/js/148.a2d1f30a.js"><link rel="prefetch" href="/assets/js/149.6d5375fc.js"><link rel="prefetch" href="/assets/js/15.19b97576.js"><link rel="prefetch" href="/assets/js/150.89d13fd4.js"><link rel="prefetch" href="/assets/js/151.d101e8a6.js"><link rel="prefetch" href="/assets/js/152.82dfb001.js"><link rel="prefetch" href="/assets/js/153.cc88b1e5.js"><link rel="prefetch" href="/assets/js/154.641d5da2.js"><link rel="prefetch" href="/assets/js/155.02185265.js"><link rel="prefetch" href="/assets/js/156.9b846c5d.js"><link rel="prefetch" href="/assets/js/157.ec766749.js"><link rel="prefetch" href="/assets/js/158.85812470.js"><link rel="prefetch" href="/assets/js/159.e2a4d02e.js"><link rel="prefetch" href="/assets/js/16.e71a580e.js"><link rel="prefetch" href="/assets/js/160.232093b0.js"><link rel="prefetch" href="/assets/js/161.bf58a934.js"><link rel="prefetch" href="/assets/js/162.023cd275.js"><link rel="prefetch" href="/assets/js/163.b8b05ef5.js"><link rel="prefetch" href="/assets/js/164.b7d6e1d3.js"><link rel="prefetch" href="/assets/js/165.797e81a7.js"><link rel="prefetch" href="/assets/js/166.7944abe6.js"><link rel="prefetch" href="/assets/js/167.af4a5ead.js"><link rel="prefetch" href="/assets/js/168.35c1d8ee.js"><link rel="prefetch" href="/assets/js/169.448c179e.js"><link rel="prefetch" href="/assets/js/17.e68c492f.js"><link rel="prefetch" href="/assets/js/170.35296827.js"><link rel="prefetch" href="/assets/js/171.11b1cd0a.js"><link rel="prefetch" href="/assets/js/172.e33ff1d7.js"><link rel="prefetch" href="/assets/js/173.a356df93.js"><link rel="prefetch" href="/assets/js/174.b86d39a6.js"><link rel="prefetch" href="/assets/js/175.34d7ca25.js"><link rel="prefetch" href="/assets/js/176.55567c3f.js"><link rel="prefetch" href="/assets/js/177.f19afc0e.js"><link rel="prefetch" href="/assets/js/178.a702d5d3.js"><link rel="prefetch" href="/assets/js/179.d87d300d.js"><link rel="prefetch" href="/assets/js/18.5ad3585a.js"><link rel="prefetch" href="/assets/js/180.efddacb1.js"><link rel="prefetch" href="/assets/js/181.0773dcbe.js"><link rel="prefetch" href="/assets/js/182.922199d1.js"><link rel="prefetch" href="/assets/js/183.bb8bf69d.js"><link rel="prefetch" href="/assets/js/184.96465931.js"><link rel="prefetch" href="/assets/js/185.0c2ff418.js"><link rel="prefetch" href="/assets/js/186.575cead0.js"><link rel="prefetch" href="/assets/js/187.d7267e61.js"><link rel="prefetch" href="/assets/js/188.a830793b.js"><link rel="prefetch" href="/assets/js/189.b1c5d145.js"><link rel="prefetch" href="/assets/js/19.2e88ed9d.js"><link rel="prefetch" href="/assets/js/190.05625483.js"><link rel="prefetch" href="/assets/js/191.cae6fb5c.js"><link rel="prefetch" href="/assets/js/192.866a4f9d.js"><link rel="prefetch" href="/assets/js/193.769e1571.js"><link rel="prefetch" href="/assets/js/194.f89dd1e2.js"><link rel="prefetch" href="/assets/js/195.71d615f2.js"><link rel="prefetch" href="/assets/js/196.9535cbb3.js"><link rel="prefetch" href="/assets/js/197.61c674dd.js"><link rel="prefetch" href="/assets/js/198.7bed473e.js"><link rel="prefetch" href="/assets/js/199.5758239b.js"><link rel="prefetch" href="/assets/js/20.5cf88440.js"><link rel="prefetch" href="/assets/js/200.eb4d48ae.js"><link rel="prefetch" href="/assets/js/201.82c165a6.js"><link rel="prefetch" href="/assets/js/202.5a38dc20.js"><link rel="prefetch" href="/assets/js/203.cb7ca4f9.js"><link rel="prefetch" href="/assets/js/204.9e21b560.js"><link rel="prefetch" href="/assets/js/205.36ca83de.js"><link rel="prefetch" href="/assets/js/206.70bb2865.js"><link rel="prefetch" href="/assets/js/207.39285f7f.js"><link rel="prefetch" href="/assets/js/208.9727449e.js"><link rel="prefetch" href="/assets/js/209.480868c5.js"><link rel="prefetch" href="/assets/js/21.0f587ebb.js"><link rel="prefetch" href="/assets/js/210.8e4c1210.js"><link rel="prefetch" href="/assets/js/211.bc7340f1.js"><link rel="prefetch" href="/assets/js/212.4c04ab90.js"><link rel="prefetch" href="/assets/js/213.3dbe7bec.js"><link rel="prefetch" href="/assets/js/214.72b272b2.js"><link rel="prefetch" href="/assets/js/215.7713d7e1.js"><link rel="prefetch" href="/assets/js/216.9998b17d.js"><link rel="prefetch" href="/assets/js/217.00976274.js"><link rel="prefetch" href="/assets/js/218.69766931.js"><link rel="prefetch" href="/assets/js/219.bdfa4000.js"><link rel="prefetch" href="/assets/js/22.66938927.js"><link rel="prefetch" href="/assets/js/220.50939e62.js"><link rel="prefetch" href="/assets/js/221.a0f45610.js"><link rel="prefetch" href="/assets/js/222.c6ab25f6.js"><link rel="prefetch" href="/assets/js/223.2dd963d3.js"><link rel="prefetch" href="/assets/js/224.69bbd7eb.js"><link rel="prefetch" href="/assets/js/225.0545e5e8.js"><link rel="prefetch" href="/assets/js/226.af45c420.js"><link rel="prefetch" href="/assets/js/227.ccd29bac.js"><link rel="prefetch" href="/assets/js/228.c1ac5069.js"><link rel="prefetch" href="/assets/js/229.fa3e6383.js"><link rel="prefetch" href="/assets/js/23.e1858dde.js"><link rel="prefetch" href="/assets/js/230.3a18d3c5.js"><link rel="prefetch" href="/assets/js/231.7dc7e87a.js"><link rel="prefetch" href="/assets/js/232.573fe260.js"><link rel="prefetch" href="/assets/js/233.c2272e2b.js"><link rel="prefetch" href="/assets/js/234.4e314017.js"><link rel="prefetch" href="/assets/js/235.3174500c.js"><link rel="prefetch" href="/assets/js/236.d95ffa02.js"><link rel="prefetch" href="/assets/js/237.d7dfeea0.js"><link rel="prefetch" href="/assets/js/238.92a9dcb3.js"><link rel="prefetch" href="/assets/js/239.3a4f01eb.js"><link rel="prefetch" href="/assets/js/24.44bdfaed.js"><link rel="prefetch" href="/assets/js/240.876d4f10.js"><link rel="prefetch" href="/assets/js/241.616936d2.js"><link rel="prefetch" href="/assets/js/242.f2f752c3.js"><link rel="prefetch" href="/assets/js/243.4069438d.js"><link rel="prefetch" href="/assets/js/244.86ad4edb.js"><link rel="prefetch" href="/assets/js/245.284662ca.js"><link rel="prefetch" href="/assets/js/246.7ce74ad7.js"><link rel="prefetch" href="/assets/js/247.eb3810ae.js"><link rel="prefetch" href="/assets/js/248.550f457d.js"><link rel="prefetch" href="/assets/js/249.a70de1d1.js"><link rel="prefetch" href="/assets/js/25.6853aa09.js"><link rel="prefetch" href="/assets/js/250.a754c631.js"><link rel="prefetch" href="/assets/js/251.7bf447c9.js"><link rel="prefetch" href="/assets/js/252.799bdf8c.js"><link rel="prefetch" href="/assets/js/253.c8aaba6a.js"><link rel="prefetch" href="/assets/js/254.b121e13e.js"><link rel="prefetch" href="/assets/js/255.b0cfb063.js"><link rel="prefetch" href="/assets/js/256.ed0ed666.js"><link rel="prefetch" href="/assets/js/257.2e062555.js"><link rel="prefetch" href="/assets/js/258.05919381.js"><link rel="prefetch" href="/assets/js/259.44720e3c.js"><link rel="prefetch" href="/assets/js/26.ef6c57c1.js"><link rel="prefetch" href="/assets/js/260.e096a742.js"><link rel="prefetch" href="/assets/js/261.fdbac558.js"><link rel="prefetch" href="/assets/js/262.c9d8c9c5.js"><link rel="prefetch" href="/assets/js/263.08b4de4e.js"><link rel="prefetch" href="/assets/js/264.553602b0.js"><link rel="prefetch" href="/assets/js/265.d3dcefe2.js"><link rel="prefetch" href="/assets/js/266.42a9274f.js"><link rel="prefetch" href="/assets/js/267.e2944502.js"><link rel="prefetch" href="/assets/js/268.aacc7772.js"><link rel="prefetch" href="/assets/js/269.76d03dd9.js"><link rel="prefetch" href="/assets/js/27.e96ead6a.js"><link rel="prefetch" href="/assets/js/270.2f128965.js"><link rel="prefetch" href="/assets/js/271.f994de25.js"><link rel="prefetch" href="/assets/js/272.0cea3b07.js"><link rel="prefetch" href="/assets/js/273.f890dfd0.js"><link rel="prefetch" href="/assets/js/274.bde1c133.js"><link rel="prefetch" href="/assets/js/275.a9694b76.js"><link rel="prefetch" href="/assets/js/276.e7e84972.js"><link rel="prefetch" href="/assets/js/277.56f9472a.js"><link rel="prefetch" href="/assets/js/278.ca08c74d.js"><link rel="prefetch" href="/assets/js/279.6a0c4b12.js"><link rel="prefetch" href="/assets/js/28.412943f9.js"><link rel="prefetch" href="/assets/js/280.c7b9e790.js"><link rel="prefetch" href="/assets/js/281.314e20e4.js"><link rel="prefetch" href="/assets/js/282.be50d936.js"><link rel="prefetch" href="/assets/js/283.9b181761.js"><link rel="prefetch" href="/assets/js/284.0ed9a91c.js"><link rel="prefetch" href="/assets/js/285.81d1433b.js"><link rel="prefetch" href="/assets/js/286.04db9923.js"><link rel="prefetch" href="/assets/js/287.0ef2023a.js"><link rel="prefetch" href="/assets/js/288.84c15ce5.js"><link rel="prefetch" href="/assets/js/289.81aa577f.js"><link rel="prefetch" href="/assets/js/29.a04dbce9.js"><link rel="prefetch" href="/assets/js/290.b67ecb11.js"><link rel="prefetch" href="/assets/js/291.095b30ff.js"><link rel="prefetch" href="/assets/js/292.c747922c.js"><link rel="prefetch" href="/assets/js/293.57b8c98f.js"><link rel="prefetch" href="/assets/js/294.29418f3b.js"><link rel="prefetch" href="/assets/js/295.863b9f10.js"><link rel="prefetch" href="/assets/js/296.b9e0cc9e.js"><link rel="prefetch" href="/assets/js/297.21c59e8e.js"><link rel="prefetch" href="/assets/js/298.5e7a00a0.js"><link rel="prefetch" href="/assets/js/299.3b576148.js"><link rel="prefetch" href="/assets/js/30.be3a4b17.js"><link rel="prefetch" href="/assets/js/300.88314dc9.js"><link rel="prefetch" href="/assets/js/301.837cefed.js"><link rel="prefetch" href="/assets/js/302.e09ac2f9.js"><link rel="prefetch" href="/assets/js/303.8d012a66.js"><link rel="prefetch" href="/assets/js/304.ab5a9b9f.js"><link rel="prefetch" href="/assets/js/305.a6ca89cd.js"><link rel="prefetch" href="/assets/js/306.2d9e8a8c.js"><link rel="prefetch" href="/assets/js/307.669c19f5.js"><link rel="prefetch" href="/assets/js/308.85d2d989.js"><link rel="prefetch" href="/assets/js/309.30258624.js"><link rel="prefetch" href="/assets/js/31.3b4cf92a.js"><link rel="prefetch" href="/assets/js/310.5f1daa31.js"><link rel="prefetch" href="/assets/js/311.b13b848c.js"><link rel="prefetch" href="/assets/js/312.e7ce7706.js"><link rel="prefetch" href="/assets/js/313.7c1448e0.js"><link rel="prefetch" href="/assets/js/314.4a8bcb5a.js"><link rel="prefetch" href="/assets/js/315.4b3b61ae.js"><link rel="prefetch" href="/assets/js/316.851983eb.js"><link rel="prefetch" href="/assets/js/317.65fda1f5.js"><link rel="prefetch" href="/assets/js/318.5b0681ba.js"><link rel="prefetch" href="/assets/js/319.eab916b3.js"><link rel="prefetch" href="/assets/js/32.1009e817.js"><link rel="prefetch" href="/assets/js/320.3964c648.js"><link rel="prefetch" href="/assets/js/321.98892efe.js"><link rel="prefetch" href="/assets/js/322.3e056383.js"><link rel="prefetch" href="/assets/js/323.f5bd5f27.js"><link rel="prefetch" href="/assets/js/324.52b992bd.js"><link rel="prefetch" href="/assets/js/325.3d6ec4cc.js"><link rel="prefetch" href="/assets/js/326.c03333c8.js"><link rel="prefetch" href="/assets/js/327.bf4f3b61.js"><link rel="prefetch" href="/assets/js/328.d91ebcce.js"><link rel="prefetch" href="/assets/js/329.0dff70ac.js"><link rel="prefetch" href="/assets/js/33.a36484ca.js"><link rel="prefetch" href="/assets/js/330.7caf6c7c.js"><link rel="prefetch" href="/assets/js/331.0f6f75e7.js"><link rel="prefetch" href="/assets/js/332.822ffb16.js"><link rel="prefetch" href="/assets/js/333.ecd22088.js"><link rel="prefetch" href="/assets/js/334.13125819.js"><link rel="prefetch" href="/assets/js/335.caa18f52.js"><link rel="prefetch" href="/assets/js/336.e349a6ec.js"><link rel="prefetch" href="/assets/js/337.aae6617f.js"><link rel="prefetch" href="/assets/js/338.29bfe09e.js"><link rel="prefetch" href="/assets/js/339.7f9972a2.js"><link rel="prefetch" href="/assets/js/34.ecb5ee6d.js"><link rel="prefetch" href="/assets/js/340.b234848b.js"><link rel="prefetch" href="/assets/js/341.f2bf78a2.js"><link rel="prefetch" href="/assets/js/342.f272119e.js"><link rel="prefetch" href="/assets/js/343.51038386.js"><link rel="prefetch" href="/assets/js/344.026dad95.js"><link rel="prefetch" href="/assets/js/345.cc52ec50.js"><link rel="prefetch" href="/assets/js/346.49bf455b.js"><link rel="prefetch" href="/assets/js/347.19a34365.js"><link rel="prefetch" href="/assets/js/348.128c9e0f.js"><link rel="prefetch" href="/assets/js/349.9f3daf6b.js"><link rel="prefetch" href="/assets/js/35.c315a737.js"><link rel="prefetch" href="/assets/js/350.b2a2eeaa.js"><link rel="prefetch" href="/assets/js/351.a8d13a5a.js"><link rel="prefetch" href="/assets/js/352.2c7a0e40.js"><link rel="prefetch" href="/assets/js/353.ca0c65e0.js"><link rel="prefetch" href="/assets/js/354.74684d12.js"><link rel="prefetch" href="/assets/js/355.4b4e1ed4.js"><link rel="prefetch" href="/assets/js/356.873f616d.js"><link rel="prefetch" href="/assets/js/357.495b41b7.js"><link rel="prefetch" href="/assets/js/358.9baa2811.js"><link rel="prefetch" href="/assets/js/359.dc1dcb16.js"><link rel="prefetch" href="/assets/js/36.6be141ba.js"><link rel="prefetch" href="/assets/js/360.48933205.js"><link rel="prefetch" href="/assets/js/361.f4ea428e.js"><link rel="prefetch" href="/assets/js/362.422ec9b2.js"><link rel="prefetch" href="/assets/js/363.b829dc7f.js"><link rel="prefetch" href="/assets/js/364.4ec4ee9b.js"><link rel="prefetch" href="/assets/js/365.3ccbfd91.js"><link rel="prefetch" href="/assets/js/366.c1f854bd.js"><link rel="prefetch" href="/assets/js/367.739b54b3.js"><link rel="prefetch" href="/assets/js/368.d6db3651.js"><link rel="prefetch" href="/assets/js/369.411e5e78.js"><link rel="prefetch" href="/assets/js/37.7d8a4488.js"><link rel="prefetch" href="/assets/js/370.9f9b2494.js"><link rel="prefetch" href="/assets/js/371.24693fff.js"><link rel="prefetch" href="/assets/js/372.cd4efc79.js"><link rel="prefetch" href="/assets/js/373.5191c19e.js"><link rel="prefetch" href="/assets/js/374.350a6c41.js"><link rel="prefetch" href="/assets/js/375.0d4f7c5f.js"><link rel="prefetch" href="/assets/js/376.a0ae96ae.js"><link rel="prefetch" href="/assets/js/377.6f112bc0.js"><link rel="prefetch" href="/assets/js/378.b3ad1ecf.js"><link rel="prefetch" href="/assets/js/379.bb251ea3.js"><link rel="prefetch" href="/assets/js/38.2b0ed5fe.js"><link rel="prefetch" href="/assets/js/380.c7100500.js"><link rel="prefetch" href="/assets/js/381.b2f7e7d6.js"><link rel="prefetch" href="/assets/js/382.8e62b8aa.js"><link rel="prefetch" href="/assets/js/383.5ad40cef.js"><link rel="prefetch" href="/assets/js/384.62718694.js"><link rel="prefetch" href="/assets/js/385.7687a101.js"><link rel="prefetch" href="/assets/js/386.3aa2ec6b.js"><link rel="prefetch" href="/assets/js/387.080f5944.js"><link rel="prefetch" href="/assets/js/388.d53bfd0d.js"><link rel="prefetch" href="/assets/js/389.30b59475.js"><link rel="prefetch" href="/assets/js/39.d4be9171.js"><link rel="prefetch" href="/assets/js/390.e20ebf2a.js"><link rel="prefetch" href="/assets/js/391.265d7b4a.js"><link rel="prefetch" href="/assets/js/392.ebdeb0d8.js"><link rel="prefetch" href="/assets/js/393.3112584f.js"><link rel="prefetch" href="/assets/js/394.7c754e70.js"><link rel="prefetch" href="/assets/js/395.51eb51ab.js"><link rel="prefetch" href="/assets/js/396.2ac8fa9a.js"><link rel="prefetch" href="/assets/js/397.73b7e0d0.js"><link rel="prefetch" href="/assets/js/398.bfe9fe1b.js"><link rel="prefetch" href="/assets/js/399.3fbe9247.js"><link rel="prefetch" href="/assets/js/4.2cb195dd.js"><link rel="prefetch" href="/assets/js/40.82187d91.js"><link rel="prefetch" href="/assets/js/400.a65cd6d3.js"><link rel="prefetch" href="/assets/js/401.9dc6f11b.js"><link rel="prefetch" href="/assets/js/402.1c996e16.js"><link rel="prefetch" href="/assets/js/403.c2fc87b4.js"><link rel="prefetch" href="/assets/js/404.f295cb4d.js"><link rel="prefetch" href="/assets/js/405.baf800ce.js"><link rel="prefetch" href="/assets/js/406.dd62b585.js"><link rel="prefetch" href="/assets/js/407.8f99059b.js"><link rel="prefetch" href="/assets/js/408.79c37181.js"><link rel="prefetch" href="/assets/js/409.8b8b3e73.js"><link rel="prefetch" href="/assets/js/41.de15dcd3.js"><link rel="prefetch" href="/assets/js/410.4183d880.js"><link rel="prefetch" href="/assets/js/411.9ef5d6df.js"><link rel="prefetch" href="/assets/js/412.ce37597b.js"><link rel="prefetch" href="/assets/js/413.b3a7d5a6.js"><link rel="prefetch" href="/assets/js/414.591bceb5.js"><link rel="prefetch" href="/assets/js/415.cda694b3.js"><link rel="prefetch" href="/assets/js/416.25640d0c.js"><link rel="prefetch" href="/assets/js/417.51f26447.js"><link rel="prefetch" href="/assets/js/418.dcbcdf97.js"><link rel="prefetch" href="/assets/js/419.1059dcfd.js"><link rel="prefetch" href="/assets/js/42.1d792a1c.js"><link rel="prefetch" href="/assets/js/420.d5d37fab.js"><link rel="prefetch" href="/assets/js/421.7854bb4d.js"><link rel="prefetch" href="/assets/js/422.70f45269.js"><link rel="prefetch" href="/assets/js/423.f4e6eb9e.js"><link rel="prefetch" href="/assets/js/424.c4bb6e45.js"><link rel="prefetch" href="/assets/js/425.55e47f2d.js"><link rel="prefetch" href="/assets/js/426.97cbd3ca.js"><link rel="prefetch" href="/assets/js/427.b4327262.js"><link rel="prefetch" href="/assets/js/428.feac2880.js"><link rel="prefetch" href="/assets/js/429.ab1f8568.js"><link rel="prefetch" href="/assets/js/43.a77be863.js"><link rel="prefetch" href="/assets/js/430.d0a4ee37.js"><link rel="prefetch" href="/assets/js/431.cdad8279.js"><link rel="prefetch" href="/assets/js/432.fe559595.js"><link rel="prefetch" href="/assets/js/433.122ba82a.js"><link rel="prefetch" href="/assets/js/434.df8d47d0.js"><link rel="prefetch" href="/assets/js/435.332aa966.js"><link rel="prefetch" href="/assets/js/436.db4094b8.js"><link rel="prefetch" href="/assets/js/437.a4c48f1a.js"><link rel="prefetch" href="/assets/js/438.ed08b26c.js"><link rel="prefetch" href="/assets/js/439.c8866503.js"><link rel="prefetch" href="/assets/js/44.504638ff.js"><link rel="prefetch" href="/assets/js/440.188ca2ff.js"><link rel="prefetch" href="/assets/js/441.449266b3.js"><link rel="prefetch" href="/assets/js/442.d3c849d6.js"><link rel="prefetch" href="/assets/js/443.be797f33.js"><link rel="prefetch" href="/assets/js/444.9c5fa2e4.js"><link rel="prefetch" href="/assets/js/445.e862dc31.js"><link rel="prefetch" href="/assets/js/446.41193f53.js"><link rel="prefetch" href="/assets/js/447.97950dae.js"><link rel="prefetch" href="/assets/js/448.28f60263.js"><link rel="prefetch" href="/assets/js/449.3d8e920d.js"><link rel="prefetch" href="/assets/js/45.6bb2fc1e.js"><link rel="prefetch" href="/assets/js/450.b33ac323.js"><link rel="prefetch" href="/assets/js/451.a29bdef5.js"><link rel="prefetch" href="/assets/js/452.e439e622.js"><link rel="prefetch" href="/assets/js/453.6e2532da.js"><link rel="prefetch" href="/assets/js/454.69ccfbd3.js"><link rel="prefetch" href="/assets/js/455.22596db1.js"><link rel="prefetch" href="/assets/js/456.958addb4.js"><link rel="prefetch" href="/assets/js/457.01dfa630.js"><link rel="prefetch" href="/assets/js/458.245cc853.js"><link rel="prefetch" href="/assets/js/459.3a29da9f.js"><link rel="prefetch" href="/assets/js/46.220fcda2.js"><link rel="prefetch" href="/assets/js/460.f68d5211.js"><link rel="prefetch" href="/assets/js/461.1cc4badc.js"><link rel="prefetch" href="/assets/js/462.f56dbed5.js"><link rel="prefetch" href="/assets/js/463.a4fc68b9.js"><link rel="prefetch" href="/assets/js/464.1449aec4.js"><link rel="prefetch" href="/assets/js/466.f2cce87d.js"><link rel="prefetch" href="/assets/js/467.20033fda.js"><link rel="prefetch" href="/assets/js/468.6605b6cc.js"><link rel="prefetch" href="/assets/js/469.0c20f0c7.js"><link rel="prefetch" href="/assets/js/47.e63332df.js"><link rel="prefetch" href="/assets/js/470.3ba54d64.js"><link rel="prefetch" href="/assets/js/471.f2cefd99.js"><link rel="prefetch" href="/assets/js/472.bf7f33a2.js"><link rel="prefetch" href="/assets/js/473.56258d40.js"><link rel="prefetch" href="/assets/js/474.eb884e1c.js"><link rel="prefetch" href="/assets/js/48.768a9a93.js"><link rel="prefetch" href="/assets/js/49.1f8a24a8.js"><link rel="prefetch" href="/assets/js/5.40c1dc66.js"><link rel="prefetch" href="/assets/js/50.2a07120e.js"><link rel="prefetch" href="/assets/js/51.2527531c.js"><link rel="prefetch" href="/assets/js/52.fb084bd7.js"><link rel="prefetch" href="/assets/js/53.3541f39a.js"><link rel="prefetch" href="/assets/js/54.4084d4c6.js"><link rel="prefetch" href="/assets/js/55.0b7de523.js"><link rel="prefetch" href="/assets/js/56.a46277bf.js"><link rel="prefetch" href="/assets/js/57.678c9751.js"><link rel="prefetch" href="/assets/js/58.44469be6.js"><link rel="prefetch" href="/assets/js/59.9036b283.js"><link rel="prefetch" href="/assets/js/6.113d94ad.js"><link rel="prefetch" href="/assets/js/60.8ea6e0d1.js"><link rel="prefetch" href="/assets/js/61.b1441bfd.js"><link rel="prefetch" href="/assets/js/62.4055fa88.js"><link rel="prefetch" href="/assets/js/63.343809c3.js"><link rel="prefetch" href="/assets/js/64.6a37684e.js"><link rel="prefetch" href="/assets/js/65.498b3095.js"><link rel="prefetch" href="/assets/js/66.472c3f67.js"><link rel="prefetch" href="/assets/js/67.ffd3512f.js"><link rel="prefetch" href="/assets/js/68.80e6e1e1.js"><link rel="prefetch" href="/assets/js/69.8ee08ad1.js"><link rel="prefetch" href="/assets/js/7.f2a2af84.js"><link rel="prefetch" href="/assets/js/70.9c7b808d.js"><link rel="prefetch" href="/assets/js/71.0abc26fe.js"><link rel="prefetch" href="/assets/js/72.011b472b.js"><link rel="prefetch" href="/assets/js/73.cb725aa1.js"><link rel="prefetch" href="/assets/js/74.537d7d78.js"><link rel="prefetch" href="/assets/js/75.77394ac8.js"><link rel="prefetch" href="/assets/js/76.b8eecb30.js"><link rel="prefetch" href="/assets/js/77.7afc22e0.js"><link rel="prefetch" href="/assets/js/78.eb08bd7e.js"><link rel="prefetch" href="/assets/js/79.3d08d738.js"><link rel="prefetch" href="/assets/js/8.0fe505d0.js"><link rel="prefetch" href="/assets/js/80.c928504a.js"><link rel="prefetch" href="/assets/js/81.998c413a.js"><link rel="prefetch" href="/assets/js/82.174c8592.js"><link rel="prefetch" href="/assets/js/83.67048269.js"><link rel="prefetch" href="/assets/js/84.9beb2214.js"><link rel="prefetch" href="/assets/js/85.d9c794cc.js"><link rel="prefetch" href="/assets/js/86.26221cd0.js"><link rel="prefetch" href="/assets/js/87.dfa56052.js"><link rel="prefetch" href="/assets/js/88.4dc20bd0.js"><link rel="prefetch" href="/assets/js/89.ee73979e.js"><link rel="prefetch" href="/assets/js/9.7f2610de.js"><link rel="prefetch" href="/assets/js/90.bbad017a.js"><link rel="prefetch" href="/assets/js/91.bae1ea17.js"><link rel="prefetch" href="/assets/js/92.1f075317.js"><link rel="prefetch" href="/assets/js/93.167a2544.js"><link rel="prefetch" href="/assets/js/94.9bcde3bb.js"><link rel="prefetch" href="/assets/js/95.41a0e2d6.js"><link rel="prefetch" href="/assets/js/96.d0cb9dae.js"><link rel="prefetch" href="/assets/js/97.510de6ab.js"><link rel="prefetch" href="/assets/js/98.a3772e11.js"><link rel="prefetch" href="/assets/js/99.5f982463.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0bbcb3d9.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Blage's Coding" class="logo"> <span class="site-name can-hide">Blage's Coding</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">ç®—æ³•</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><a href="/spring/" class="link-title">Spring</a> <span class="title" style="display:none;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/spring/" class="nav-link">æ‰‹å†™Spring</a></li><li class="dropdown-item"><!----> <a href="/cata/ssm/" class="nav-link">SSM</a></li><li class="dropdown-item"><!----> <a href="/cata/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/cata/javaweb/" class="nav-link">JavaWeb</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVAåŸºç¡€" class="dropdown-title"><a href="/java/" class="link-title">JAVAåŸºç¡€</a> <span class="title" style="display:none;">JAVAåŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/javabasic/" class="nav-link">JAVAåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/cata/jihe/" class="nav-link">å®¹å™¨</a></li><li class="dropdown-item"><h4>Netty</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3e5651/" class="nav-link">IOæ¨¡å‹</a></li><li class="dropdown-subitem"><a href="/pages/dc2076/" class="nav-link">Nettyåˆçº§</a></li><li class="dropdown-subitem"><a href="/pages/9ed934/" class="nav-link">NettyåŸç†</a></li></ul></li><li class="dropdown-item"><!----> <a href="/cata/jvm/" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/cata/juc/" class="nav-link">JUC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Redis" class="dropdown-title"><a href="/redis/" class="link-title">Redis</a> <span class="title" style="display:none;">Redis</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/redisbasic/" class="nav-link">RedisåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/cata/redisanalyse/" class="nav-link">æºç åˆ†æ</a></li><li class="dropdown-item"><!----> <a href="/redis/" class="nav-link">å®æˆ˜åº”ç”¨</a></li><li class="dropdown-item"><!----> <a href="/redis/" class="nav-link">å•æœºç¼“å­˜</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><a href="/mysql/" class="link-title">æ•°æ®åº“</a> <span class="title" style="display:none;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">åŸºç¡€éƒ¨åˆ†</a></li><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">å®æˆ˜ä¸å¤„ç†æ–¹æ¡ˆ</a></li><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">é¢è¯•</a></li></ul></li><li class="dropdown-item"><h4>ORMæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/41f194/" class="nav-link">Mybatis</a></li><li class="dropdown-subitem"><a href="/pages/b188b3/" class="nav-link">Mybatis_Plus</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><a href="/cloud/" class="link-title">ä¸­é—´ä»¶</a> <span class="title" style="display:none;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/alibaba/" class="nav-link">SpringCloudAlibaba</a></li><li class="dropdown-item"><!----> <a href="/cata/mq/" class="nav-link">MQæ¶ˆæ¯é˜Ÿåˆ—</a></li><li class="dropdown-item"><!----> <a href="/cata/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/cata/es/" class="nav-link">Elasticsearch</a></li><li class="dropdown-item"><!----> <a href="/pages/b8c685/" class="nav-link">Gateway</a></li><li class="dropdown-item"><!----> <a href="/pages/72792a/" class="nav-link">Xxl-job</a></li><li class="dropdown-item"><!----> <a href="/pages/8bf560/" class="nav-link">Feign</a></li><li class="dropdown-item"><!----> <a href="/pages/d80289/" class="nav-link">Eureka</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">æ›´å¤š</a> <span class="title" style="display:none;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/mianshi/" class="nav-link">é¢è¯•</a></li><li class="dropdown-item"><!----> <a href="/cata/gongju/" class="nav-link">å·¥å…·</a></li><li class="dropdown-item"><!----> <a href="/cata/pro/" class="nav-link">é¡¹ç›®</a></li><li class="dropdown-item"><!----> <a href="/pages/f2e63f/" class="nav-link">å…³äº</a></li></ul></div></div><div class="nav-item"><a href="/cata/benzhan/" class="nav-link">ğŸŒæœ¬ç«™</a></div> <a href="https://github.com/blage-coding/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    ğŸ§¸GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">ç®—æ³•</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><a href="/spring/" class="link-title">Spring</a> <span class="title" style="display:none;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/spring/" class="nav-link">æ‰‹å†™Spring</a></li><li class="dropdown-item"><!----> <a href="/cata/ssm/" class="nav-link">SSM</a></li><li class="dropdown-item"><!----> <a href="/cata/springboot/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/cata/javaweb/" class="nav-link">JavaWeb</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVAåŸºç¡€" class="dropdown-title"><a href="/java/" class="link-title">JAVAåŸºç¡€</a> <span class="title" style="display:none;">JAVAåŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/javabasic/" class="nav-link">JAVAåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/cata/jihe/" class="nav-link">å®¹å™¨</a></li><li class="dropdown-item"><h4>Netty</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3e5651/" class="nav-link">IOæ¨¡å‹</a></li><li class="dropdown-subitem"><a href="/pages/dc2076/" class="nav-link">Nettyåˆçº§</a></li><li class="dropdown-subitem"><a href="/pages/9ed934/" class="nav-link">NettyåŸç†</a></li></ul></li><li class="dropdown-item"><!----> <a href="/cata/jvm/" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/cata/juc/" class="nav-link">JUC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Redis" class="dropdown-title"><a href="/redis/" class="link-title">Redis</a> <span class="title" style="display:none;">Redis</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/redisbasic/" class="nav-link">RedisåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/cata/redisanalyse/" class="nav-link">æºç åˆ†æ</a></li><li class="dropdown-item"><!----> <a href="/redis/" class="nav-link">å®æˆ˜åº”ç”¨</a></li><li class="dropdown-item"><!----> <a href="/redis/" class="nav-link">å•æœºç¼“å­˜</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><a href="/mysql/" class="link-title">æ•°æ®åº“</a> <span class="title" style="display:none;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">åŸºç¡€éƒ¨åˆ†</a></li><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">å®æˆ˜ä¸å¤„ç†æ–¹æ¡ˆ</a></li><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">é¢è¯•</a></li></ul></li><li class="dropdown-item"><h4>ORMæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/41f194/" class="nav-link">Mybatis</a></li><li class="dropdown-subitem"><a href="/pages/b188b3/" class="nav-link">Mybatis_Plus</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><a href="/cloud/" class="link-title">ä¸­é—´ä»¶</a> <span class="title" style="display:none;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/alibaba/" class="nav-link">SpringCloudAlibaba</a></li><li class="dropdown-item"><!----> <a href="/cata/mq/" class="nav-link">MQæ¶ˆæ¯é˜Ÿåˆ—</a></li><li class="dropdown-item"><!----> <a href="/cata/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/cata/es/" class="nav-link">Elasticsearch</a></li><li class="dropdown-item"><!----> <a href="/pages/b8c685/" class="nav-link">Gateway</a></li><li class="dropdown-item"><!----> <a href="/pages/72792a/" class="nav-link">Xxl-job</a></li><li class="dropdown-item"><!----> <a href="/pages/8bf560/" class="nav-link">Feign</a></li><li class="dropdown-item"><!----> <a href="/pages/d80289/" class="nav-link">Eureka</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">æ›´å¤š</a> <span class="title" style="display:none;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cata/mianshi/" class="nav-link">é¢è¯•</a></li><li class="dropdown-item"><!----> <a href="/cata/gongju/" class="nav-link">å·¥å…·</a></li><li class="dropdown-item"><!----> <a href="/cata/pro/" class="nav-link">é¡¹ç›®</a></li><li class="dropdown-item"><!----> <a href="/pages/f2e63f/" class="nav-link">å…³äº</a></li></ul></div></div><div class="nav-item"><a href="/cata/benzhan/" class="nav-link">ğŸŒæœ¬ç«™</a></div> <a href="https://github.com/blage-coding/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    ğŸ§¸GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ç½‘å…³</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/aded89/" class="sidebar-link">Api-gateway-core</a></li><li><a href="/pages/17afbe/" class="sidebar-link">Api-gateway-center</a></li><li><a href="/pages/5a903d/" aria-current="page" class="active sidebar-link">Api-gateway-assist</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_1-æœåŠ¡å‘ç°gateway-assist" class="sidebar-link">1.æœåŠ¡å‘ç°gateway-assist</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#ç½‘å…³ç®—åŠ›æœåŠ¡æ³¨å†Œå‘ç°" class="sidebar-link">ç½‘å…³ç®—åŠ›æœåŠ¡æ³¨å†Œå‘ç°</a></li><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#configuration" class="sidebar-link">@Configuration</a></li><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#spiæœºåˆ¶" class="sidebar-link">SPIæœºåˆ¶</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_2-é‡æ„-nettyæœåŠ¡ç«¯å’Œé…ç½®ç±»ç¼“å­˜" class="sidebar-link">2.é‡æ„ï¼šNettyæœåŠ¡ç«¯å’Œé…ç½®ç±»ç¼“å­˜</a></li><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_3-mavenä¸‰å¤§æ‰“åŒ…æ’ä»¶" class="sidebar-link">3.Mavenä¸‰å¤§æ‰“åŒ…æ’ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#maven-jar-plugin" class="sidebar-link">maven-jar-plugin</a></li><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#maven-assembly-plugin" class="sidebar-link">maven-assembly-plugin</a></li><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#maven-shade-plugin" class="sidebar-link">maven-shade-plugin</a></li><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#æ™®é€šjaråŒ…å’Œfat-jar" class="sidebar-link">æ™®é€šjaråŒ…å’ŒFat jar</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_4-å®¹å™¨å…³é—­ç›‘å¬ä¸å¼‚å¸¸ç®¡ç†" class="sidebar-link">4.å®¹å™¨å…³é—­ç›‘å¬ä¸å¼‚å¸¸ç®¡ç†</a></li><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_5-é…ç½®dockerfileæ„å»ºé•œåƒ" class="sidebar-link">5.é…ç½®Dockerfileæ„å»ºé•œåƒ</a></li><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_6-nettyserver-bindä¸dockerè™šæ‹Ÿç½‘å¡" class="sidebar-link">6.NettyServer#bindä¸Dockerè™šæ‹Ÿç½‘å¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#serverbootstrap-bind" class="sidebar-link">ServerBootstrap#bind</a></li><li class="sidebar-sub-header level4"><a href="/pages/5a903d/#dockerä¸Šå¯åŠ¨nettyæœåŠ¡" class="sidebar-link">Dockerä¸Šå¯åŠ¨NettyæœåŠ¡</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/5a903d/#_7-rediså‘å¸ƒè®¢é˜…å®ç°ç®—åŠ›è‡ªåŠ¨æ³¨å†Œrpc" class="sidebar-link">7.Rediså‘å¸ƒè®¢é˜…å®ç°ç®—åŠ›è‡ªåŠ¨æ³¨å†ŒRPC</a></li></ul></li><li><a href="/pages/0e9866/" class="sidebar-link">Api-gateway-sdk</a></li><li><a href="/pages/798214/" class="sidebar-link">éƒ¨ç½²é…ç½®</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æŠ½å¥–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç”µå•†</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å¤–å–</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/categories/?category=%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0" title="åˆ†ç±»" data-v-06970110>é¡¹ç›®ç¬”è®°</a></li><li data-v-06970110><a href="/categories/?category=%E7%BD%91%E5%85%B3" title="åˆ†ç±»" data-v-06970110>ç½‘å…³</a></li></ul> <div class="info" data-v-06970110><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/blage-coding" target="_blank" title="ä½œè€…" class="beLink" data-v-06970110>phan</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-05-15</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Api-gateway-assist<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="api-gateway-assist"><a href="#api-gateway-assist" class="header-anchor">#</a> Api-gateway-assist</h1> <h2 id="_1-æœåŠ¡å‘ç°gateway-assist"><a href="#_1-æœåŠ¡å‘ç°gateway-assist" class="header-anchor">#</a> 1.æœåŠ¡å‘ç°gateway-assist</h2> <h4 id="ç½‘å…³ç®—åŠ›æœåŠ¡æ³¨å†Œå‘ç°"><a href="#ç½‘å…³ç®—åŠ›æœåŠ¡æ³¨å†Œå‘ç°" class="header-anchor">#</a> ç½‘å…³ç®—åŠ›æœåŠ¡æ³¨å†Œå‘ç°</h4> <p>æ ¸å¿ƒï¼šé€šè¿‡è®¾è®¡SpringBoot Starterï¼Œè®©gateway-engineå¼•æ“å¯åŠ¨SpringBootç¨‹åºæ—¶ï¼Œè‡ªåŠ¨è¯»å–coreç®—åŠ›èŠ‚ç‚¹é…ç½®ä¿¡æ¯(yml)ï¼Œå¹¶æ ¹æ®è¯¥ä¿¡æ¯å‘é€HTTPè¯·æ±‚ï¼Œå°†gateway-coreæ³¨å†Œåˆ°ç½‘å…³æ³¨å†Œä¸­å¿ƒã€‚</p> <p><img src="https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230515/image-20230425094053736.5lah3ka2t2o0.webp" alt="image-20230425094053736"></p> <p>GatewayServicePropertiesï¼šé€šè¿‡æ³¨è§£@ConfigurationPropertieså®ç°å¯¹ymlé…ç½®è¯»å–ã€‚</p> <p>RegisterGatewayService#doRegisterï¼šæ ¹æ®ymlè¯»å–çš„ç®—åŠ›èŠ‚ç‚¹ä¿¡æ¯ï¼Œé€šè¿‡HttpUtil.postå‘æ³¨å†Œä¸­å¿ƒçš„ç½‘å…³æ³¨å†Œæ¥å£å‘é€HTTPè¯·æ±‚ã€‚</p> <p><strong>GatewayApplicationï¼šå®ç°ApplicationListener</strong>ï¼Œåˆ©ç”¨<strong>æ¶ˆæ¯ç›‘å¬å‘å¸ƒæœºåˆ¶</strong>ï¼Œå½“refreshç»“æŸåè§¦å‘doRegisteræµç¨‹ã€‚</p> <h4 id="configuration"><a href="#configuration" class="header-anchor">#</a> @Configuration</h4> <p>â‘ åœ¨@Configurationæ³¨è§£é…ç½®ç±»ä¸­ï¼Œ<font color="red"><strong>é€šè¿‡@Beanæ³¨è§£åœ¨è¿”å›newå®ä¾‹çš„æ–¹æ³•ä¸Šæ¥å®ç°æ³¨å†Œè‡ªå®šä¹‰beanã€‚</strong></font></p> <p>â‘¡åœ¨@Configurationæ³¨è§£é…ç½®ç±»ä¸­ï¼Œ<font color="red"><strong>é€šè¿‡@ComponentScanæŒ‡å®šè‡ªå®šä¹‰beanæ‰€åœ¨çš„åŒ…ï¼Œå®ç°æ³¨å†Œè‡ªå®šä¹‰beanã€‚</strong></font></p> <ul><li>åŸç†</li></ul> <p>AnnotationConfigApplicationContextç±»ä¸­ä¼šåˆå§‹åŒ–<strong>ConfigurationClassPostProcessor</strong>ï¼Œä»–ä¼šåœ¨refreshä¸­invokeBeanFactoryPostProcessorsæ‰§è¡Œã€‚</p> <p><strong>ConfigurationClassPostProcessor</strong>è§£æè¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆæ£€æŸ¥BeanDefinitionæ˜¯å¦@Configurationæ³¨è§£æ ‡è®°ï¼Œç„¶åå†æ‰«æå¹¶æ„å»ºæ–°çš„BeanDefinitionï¼Œåˆå§‹åŒ–å®¹å™¨ã€‚</p> <h4 id="spiæœºåˆ¶"><a href="#spiæœºåˆ¶" class="header-anchor">#</a> SPIæœºåˆ¶</h4> <ul><li>SPIæ¦‚å¿µ</li></ul> <p>å…¨ç§°<strong>Service Provider Interface</strong>ï¼ŒæœåŠ¡æä¾›è€…æ¥å£ã€‚<font color="red"><strong>è°ƒç”¨æ–¹å¯ä»¥è‡ªå®šä¹‰å®ç°æœåŠ¡æä¾›æ–¹çš„æœåŠ¡æ¥å£ï¼Œå¹¶æ›¿æ¢å…¶é»˜è®¤å®ç°ã€‚</strong></font>ä¹Ÿå°±æ˜¯è¯´é€šè¿‡SPIæœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥<strong>è‡ªå®šä¹‰ä¿®æ”¹è¦†ç›–å¤–éƒ¨JaråŒ…(æœåŠ¡æä¾›æ–¹)é‡Œçš„æ¥å£å®ç°ã€‚</strong></p> <p>è€ŒAPI(Application Provider Interface)çš„ä½¿ç”¨å®Œå…¨ä¾èµ–äºæ‰€æä¾›çš„JaråŒ…ã€‚</p> <ul><li>JDKåŸç”ŸSPI</li></ul> <p>java.util.ServiceLoaderï¼šJDKåŸç”ŸSPIçš„æ ¸å¿ƒç±»ï¼Œå¯ä»¥é€šè¿‡ç±»åè·å–åœ¨&quot;META-INF/services/&quot;ä¸‹çš„å¤šä¸ªé…ç½®å®ç°æ–‡ä»¶ã€‚</p> <p><strong>ç¼ºç‚¹ï¼šæ— æ³•ç¡®è®¤å…·ä½“åŠ è½½å“ªä¸€ä¸ªå®ç°ï¼Œä»…é ClassPathçš„é¡ºåºå†³å®šã€‚åŒæ—¶ä¸èƒ½æŒ‰éœ€åŠ è½½ï¼Œéœ€è¦éå†æ‰€æœ‰å†…å®¹å¹¶å®ä¾‹åŒ–ï¼Œè€—æ—¶ã€‚</strong></p> <ul><li>Dubbo SPI</li></ul> <p>æ ¸å¿ƒåœ¨äºæ”¯æŒ<strong>æŒ‰â€åâ€œè¯»å–SPIæœåŠ¡å®ç°ç±»</strong>ã€‚</p> <p>åœ¨æœåŠ¡æ¥å£æ·»åŠ @SPIæ³¨è§£(<strong>å¯ä»¥æŒ‡å®šé»˜è®¤å®ç°</strong>)ã€‚åœ¨ <strong>META-INF/dubbo</strong>è·¯å¾„ä¸‹æ”¯æŒ<strong>åˆ«åé…ç½®</strong>(<font color="red">é”®å€¼å¯¹é…ç½®ï¼Œkeyä¸ºåˆ«åï¼Œvalueä¸ºå®ç°ç±»å</font>)ï¼Œä»è€Œè§£å†³äº†SPIæœåŠ¡å…·ä½“åŠ è½½çš„å®ç°ç±»ã€‚</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">optimusPrime</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.spi.OptimusPrime</span>
<span class="token key attr-name">bumblebee</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.spi.Bumblebee</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å†…éƒ¨æ¡†æ¶è·å–æœåŠ¡é€šè¿‡ExtensionLoaderå®ç°(Dubboå†…éƒ¨ä¹Ÿç»§æ‰¿äº†è½»é‡çº§çš„AOPå’ŒIOC)ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DubboSPITest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">ExtensionLoader</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Robot</span><span class="token punctuation">&gt;</span></span> extensionLoader <span class="token operator">=</span> 
            <span class="token class-name">ExtensionLoader</span><span class="token punctuation">.</span><span class="token function">getExtensionLoader</span><span class="token punctuation">(</span><span class="token class-name">Robot</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Robot</span> optimusPrime <span class="token operator">=</span> extensionLoader<span class="token punctuation">.</span><span class="token function">getExtension</span><span class="token punctuation">(</span><span class="token string">&quot;optimusPrime&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        optimusPrime<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Robot</span> bumblebee <span class="token operator">=</span> extensionLoader<span class="token punctuation">.</span><span class="token function">getExtension</span><span class="token punctuation">(</span><span class="token string">&quot;bumblebee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bumblebee<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><strong>Spring SPI</strong></li></ul> <p>JDKå’ŒDubboçš„SPIæœºåˆ¶æ¯ä¸ªæ‰©å±•ç‚¹å•ç‹¬ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œå¯¹äºSpringæ¡†æ¶æ¥è¯´ï¼Œ<font color="red"><strong>æ‰€æœ‰æ‰©å±•ç‚¹éƒ½å­˜æ”¾åœ¨META-INF/spring.factoriesä¸€ä¸ªæ–‡ä»¶å½“ä¸­</strong></font>ï¼ŒæŒ‡å®šå…¨é™å®šåçš„æ¥å£+è‡ªå®šä¹‰å®ç°ç±»ã€‚</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">org.springframework.boot.context.config.ConfigDataLocationResolver</span><span class="token punctuation">=</span><span class="token value attr-value">\
com.example.LocationResolver</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æ ¸å¿ƒæ˜¯é€šè¿‡SpringFactoriesLoaderè·å–å¯¹åº”çš„æœåŠ¡ã€‚</p> <p><img src="https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230515/image-20230425162145482.6bnyb1s0glk.webp" alt="image-20230425162145482"></p> <h2 id="_2-é‡æ„-nettyæœåŠ¡ç«¯å’Œé…ç½®ç±»ç¼“å­˜"><a href="#_2-é‡æ„-nettyæœåŠ¡ç«¯å’Œé…ç½®ç±»ç¼“å­˜" class="header-anchor">#</a> 2.é‡æ„ï¼šNettyæœåŠ¡ç«¯å’Œé…ç½®ç±»ç¼“å­˜</h2> <ul><li>Nettyé€šä¿¡æœåŠ¡å’Œé…ç½®ç±»çš„åˆå§‹åŒ–</li></ul> <p>æ ¸å¿ƒï¼šå°†æ•´ä¸ªç½‘å…³çš„<strong>NettyæœåŠ¡å¯åŠ¨</strong>å’Œ<strong>é…ç½®åˆå§‹åŒ–</strong>å…¨éƒ¨äº¤ç»™<strong>gateway-assistè‡ªåŠ¨é…ç½®ç±»å®ç°</strong>ã€‚</p> <p>â‘ åœ¨GatewayApplicationç›‘å¬å™¨ä¸­å¼•å…¥Configuration(äº¤ç»™Springç®¡ç†)ï¼Œåœ¨æ‹‰å–RPCæ³¨å†Œä¿¡æ¯åï¼Œæ ¹æ®èšåˆä¿¡æ¯å®ç°<strong>é…ç½®ç¼“å­˜åˆå§‹åŒ–</strong>ã€‚</p> <p>â‘¡åœ¨GatewayAutoConfigå¯åŠ¨é…ç½®ç±»ä¸­å¼•å…¥initGatewayæ–¹æ³•ï¼Œæ ¹æ®ç½‘å…³IPç«¯å£é…ç½®è¿›è¡Œ<strong>ç½‘å…³é€šä¿¡æœåŠ¡åˆå§‹åŒ–</strong>ã€‚</p> <p><strong>GatewayAutoConfig#initGateway</strong>ï¼š<strong>æŠŠå¯åŠ¨ç½‘å…³é€šä¿¡æœåŠ¡(gateway-core)äº¤ç»™Springè¿›è¡Œ</strong>ã€‚åœ¨SpringBootåº”ç”¨ç¨‹åºå¯åŠ¨åï¼Œspringä¸»çº¿ç¨‹åœ¨<strong>æ‰§è¡Œ@Beanæ³¨è§£æ–¹æ³•åˆå§‹åŒ–Bean</strong>æ—¶ï¼Œ<font color="red"><strong>ä¼šä»çº¿ç¨‹æ± ä¸­è·å–æ–°çš„çº¿ç¨‹ï¼Œå¼‚æ­¥æ‰§è¡ŒNettyæœåŠ¡ç«¯çš„æ‰€æœ‰æµç¨‹ã€‚</strong></font></p> <ul><li>å¤§ä½“æµç¨‹</li></ul> <p>â‘ å¯åŠ¨zookeeperå’ŒçœŸæ­£çš„æœåŠ¡æä¾›æ–¹api-gateway-test-providerï¼Œæš´éœ²RPCæœåŠ¡</p> <p>â‘¡å¯åŠ¨ç½‘å…³æ³¨å†Œä¸­å¿ƒapi-gateway-center</p> <p>â‘¢å¯åŠ¨api-gateway-assist00ï¼Œè€Œå› ä¸ºå…¶ä¸­å†…åµŒäº†assistå’Œcoreç½‘å…³ç®—åŠ›ï¼Œæ‰€ä»¥<strong>æ•´ä¸ªç½‘å…³åŠ©æ‰‹æµ‹è¯•å·¥ç¨‹</strong>æ­¤æ—¶å¯ä»¥å……å½“<font color="red"><strong>ä¸€ä¸ªå…·æœ‰è‡ªåŠ¨é…ç½®(æœåŠ¡æ‹‰å–ï¼Œæ³¨å†Œï¼Œåˆå§‹åŒ–)çš„ç®—åŠ›èŠ‚ç‚¹ã€‚</strong></font>(ç›¸å½“äºassist+coreçš„ä¸€ä¸ªèƒ–jar)</p> <p>å½“ç”¨æˆ·è®¿é—®ç½‘å…³ç›‘å¬åœ°å€æ—¶ï¼Œ<font color="red"><strong>HTTPè¯·æ±‚ä¼šæ‰“åˆ°assist0ä¸­çš„NettyæœåŠ¡ç«¯çº¿ç¨‹</strong></font>ï¼Œè§¦å‘ç›‘å¬äº‹ä»¶ï¼Œå¹¶æ ¹æ®uriä»ç¼“å­˜ä¸­å–å‡ºå¯¹åº”çš„Dubboé…ç½®ï¼Œå‘test-providerè¯·æ±‚å¹¶å“åº”ç»™ç”¨æˆ·ã€‚</p> <p>å½“ç½‘å…³æœåŠ¡å¯åŠ¨åï¼Œå¦‚æœå‰ç«¯æ“ä½œå¢æ·»æ¥å£ï¼Œåå°æ‹¿åˆ°æ¥å£æ•°æ®éœ€è¦â‘ å‘æ³¨å†Œä¸­å¿ƒcenter(ç›¸å½“äº<strong>æ•°æ®åº“</strong>)çš„æ³¨å†Œæ¥å£å‘é€è¯·æ±‚ï¼Œ<strong>å®Œæˆæ•°æ®åº“ä¸­æ¥å£ä¿¡æ¯çš„å†™å…¥</strong>â‘¡è·å–åˆ°gateway-assist00(gateway-core)é‡Œçš„äº¤ç»™Springç®¡ç†çš„<strong>Configuration Beanå®ä¾‹</strong>(@Autowired)ï¼Œç„¶åé€šè¿‡æ‰‹åŠ¨å¼ç¼–ç¨‹å°†å½“å‰æ¥å£ä¿¡æ¯åŠ å…¥é…ç½®ç¼“å­˜ï¼Œå®Œæˆæ³¨å†Œã€‚</p> <p><img src="https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230515/assist00.4ecvvls84lu0.webp" alt="assist00"></p> <ul><li>é—®é¢˜</li></ul> <p>ç½‘å…³ç®—åŠ›çœŸæ­£ä¸RPCæœåŠ¡å»ºç«‹è¿œç¨‹è¿æ¥ï¼Œè·å–æ³›åŒ–å®ä¾‹è¿‡ç¨‹è¿˜æ˜¯åœ¨è§¦å‘Nettyç›‘å¬äº‹ä»¶ä¸­çš„openSessionè¿›è¡Œã€‚</p> <p>â‘ æ³¨å†Œæ·»åŠ é…ç½®ç¼“å­˜ä¸­ï¼Œé”®å€¼å¯¹keyç”±nameæ”¹ä¸ºå¯¹åº”applicationå’Œinterfaceçš„Id</p> <p>â‘¡zookeeperåœ¨è™šæ‹Ÿæœºï¼Œé‡‡ç”¨hostæ¨¡å¼å¯åŠ¨(bridgeæ¨¡å¼é€šä¿¡å¤±è´¥)åªèƒ½è®¿é—®è™šæ‹ŸæœºIPè®¿é—®ï¼Œ127.0.0.1å¤±è´¥ã€‚</p> <h2 id="_3-mavenä¸‰å¤§æ‰“åŒ…æ’ä»¶"><a href="#_3-mavenä¸‰å¤§æ‰“åŒ…æ’ä»¶" class="header-anchor">#</a> 3.Mavenä¸‰å¤§æ‰“åŒ…æ’ä»¶</h2> <h4 id="maven-jar-plugin"><a href="#maven-jar-plugin" class="header-anchor">#</a> maven-jar-plugin</h4> <p>é»˜è®¤çš„æ‰“åŒ…æ’ä»¶ï¼Œç”¨æ¥æ‰“æ™®é€šçš„project JARåŒ…ï¼›</p> <h4 id="maven-assembly-plugin"><a href="#maven-assembly-plugin" class="header-anchor">#</a> maven-assembly-plugin</h4> <p>æ”¯æŒè‡ªå®šä¹‰çš„æ‰“åŒ…ç»“æ„ï¼Œä¹Ÿå¯ä»¥å®šåˆ¶ä¾èµ–é¡¹ç­‰ã€‚</p> <h4 id="maven-shade-plugin"><a href="#maven-shade-plugin" class="header-anchor">#</a> maven-shade-plugin</h4> <p>â‘ <strong>å°†ä¾èµ–çš„jaråŒ…æ‰“åŒ…åˆ°å½“å‰jaråŒ…</strong>(å¸¸è§„æ‰“åŒ…æ˜¯ä¸ä¼šå°†æ‰€ä¾èµ–jaråŒ…æ‰“è¿›æ¥çš„)ï¼Œä¹Ÿå°±æ˜¯è¯´å…¶ä»–åœ°æ–¹å¼•ç”¨gateway-assistæ’ä»¶æ—¶ï¼Œä¸éœ€è¦å†å¯¼å…¥gateway-coreä¾èµ–ã€‚</p> <p>â‘¡å¯¹ä¾èµ–çš„jaråŒ…è¿›è¡Œé‡å‘½åã€‚</p> <p>ä½¿ç”¨ï¼šå°†é¡¹ç›®æ‰“æˆä¸€ä¸ªå¯æ‰§è¡ŒjaråŒ…æ—¶ï¼Œconfigurationä¸‹å¢åŠ artifactSetï¼Œincludesæ·»åŠ éœ€è¦å¢åŠ çš„ç¬¬ä¸‰æ–¹mavenä¾èµ–ï¼Œexcludesæ’é™¤ä¸éœ€è¦æ‰“åŒ…è¿›æ¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;artifactSet&gt;
            &lt;includes&gt;
                &lt;include&gt;com.panhai.gateway:api-gateway-core:jar:&lt;/include&gt;
            &lt;/includes&gt;
        &lt;/artifactSet&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="æ™®é€šjaråŒ…å’Œfat-jar"><a href="#æ™®é€šjaråŒ…å’Œfat-jar" class="header-anchor">#</a> æ™®é€šjaråŒ…å’ŒFat jar</h4> <p><strong>æ™®é€šçš„jaråªåŒ…å«å½“å‰ jarçš„ä¿¡æ¯ï¼Œä¸å«æœ‰ç¬¬ä¸‰æ–¹ jarï¼Œå› æ­¤å½“å†…éƒ¨ä¾èµ–ç¬¬ä¸‰æ–¹jaræ—¶ç›´æ¥è¿è¡Œåˆ™ä¼šæŠ¥é”™</strong>ï¼Œè¿™æ—¶å€™éœ€è¦å°†ç¬¬ä¸‰æ–¹jarå†…åµŒåˆ°å¯æ‰§è¡Œjaré‡Œã€‚</p> <p><font color="red"><strong>Fatjarï¼šå°†ä¸€ä¸ªjaråŠå…¶ä¾èµ–çš„ä¸‰æ–¹jarå…¨éƒ¨æ‰“åˆ°ä¸€ä¸ªåŒ…ä¸­ã€‚èƒ–åŒ…åˆ°å“ªé‡Œéƒ½èƒ½ç”¨ï¼Œè€Œè¦ä½¿ç”¨ç˜¦åŒ…å¿…é¡»å¼•ç”¨çš„å·¥ç¨‹ä¸­è‡ªå¸¦ä¾èµ–æ‰è¡Œã€‚</strong></font></p> <p><strong>spring-boot-maven-pluginå’Œmaven-shade-plugin</strong>(æŒ‡å®š)æ‰“çš„åŒ…éƒ½æ˜¯èƒ–jarã€‚</p> <h2 id="_4-å®¹å™¨å…³é—­ç›‘å¬ä¸å¼‚å¸¸ç®¡ç†"><a href="#_4-å®¹å™¨å…³é—­ç›‘å¬ä¸å¼‚å¸¸ç®¡ç†" class="header-anchor">#</a> 4.å®¹å™¨å…³é—­ç›‘å¬ä¸å¼‚å¸¸ç®¡ç†</h2> <ul><li>åŠŸèƒ½</li></ul> <p>â‘ æ·»åŠ ä¸€ä¸ªå®¹å™¨å…³é—­çš„ç›‘å¬å™¨ï¼Œå½“å®¹å™¨å…³é—­æ—¶éœ€è¦æŠŠç½‘å…³é€šä¿¡coreä¸‹çš„NettyæœåŠ¡ä¹Ÿä¸€èµ·å…³é—­ã€‚</p> <p>GatewayApplicationç›‘å¬ContextClosedEventä¸Šä¸‹æ–‡å…³é—­äº‹ä»¶ï¼Œå¼•å…¥Channelä½œä¸ºæˆå‘˜å±æ€§ï¼Œç”¨äºå…³é—­NettyæœåŠ¡ã€‚</p> <p>â‘¡å°†ç½‘å…³çš„æ³¨å†Œå’ŒRPCæœåŠ¡æ‹‰å–è¿™ä¸¤ä¸ªæ“ä½œï¼Œæ”¾å…¥åˆ°ä¸Šä¸‹æ–‡æ¥å£çš„setApplicationContextæ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥åœ¨æ³¨å†ŒæœåŠ¡ä¸æ‹‰å–é…ç½®å¤±è´¥æ—¶ï¼Œ<strong>ç›´æ¥æŠ›å¼‚å¸¸å…³é—­å®¹å™¨</strong>ã€‚</p> <ul><li>ApplicationContextAwareæ‰©å±•ç‚¹</li></ul> <p><strong>å®ç°ä¸Šä¸‹æ–‡å®¹å™¨æ„ŸçŸ¥æ¥å£çš„å¯¹è±¡çš„æ–¹æ³•setApplicationContext</strong>ï¼Œåœ¨beanPostProcessorsBeforeInitializationé˜¶æ®µä¸­ï¼Œé€šè¿‡è°ƒç”¨ApplicationContextAwareProcessor(å®ç°äº†BeanPostProcessor)çš„<strong>å¢å¼ºæ–¹æ³•</strong>å®ç°ã€‚</p> <h2 id="_5-é…ç½®dockerfileæ„å»ºé•œåƒ"><a href="#_5-é…ç½®dockerfileæ„å»ºé•œåƒ" class="header-anchor">#</a> 5.é…ç½®Dockerfileæ„å»ºé•œåƒ</h2> <p>å°†æ‰“åŒ…å¥½çš„JaråŒ…ä¼ å…¥æœåŠ¡å™¨ï¼Œé€šè¿‡æ„å»ºé•œåƒæ–‡ä»¶è¿è¡Œåœ¨dockerä¸Š</p> <ul><li>æ­¥éª¤</li></ul> <p>â‘ å°†æ‰“åŒ…å¥½çš„å¯æ‰§è¡ŒjaråŒ…ä¸Dockerfileä¼ å…¥æœåŠ¡å™¨</p> <p>â‘¡ç¼–å†™Dockerfileæ–‡ä»¶ï¼Œå…¶ä¸­å¸¸ç”¨æŒ‡ä»¤ï¼š</p> <p><strong>ENVï¼šæŒ‡å®šå®¹å™¨å¯åŠ¨åï¼Œæ‰€è¦æ‰§è¡ŒæŒ‡ä»¤çš„è¿è¡Œç¯å¢ƒï¼Œé…åˆå¤–éƒ¨ä¼ å…¥</strong></p> <p><strong>FROMï¼šæŒ‡å®šåŸºç¡€é•œåƒï¼Œå¿…é¡»ä¸ºç¬¬ä¸€ä¸ªå‘½ä»¤</strong></p> <p><strong>ADDï¼šå°†æœ¬åœ°æ–‡ä»¶(jaråŒ…)æ·»åŠ åˆ°å®¹å™¨ä¸­</strong></p> <p>WORKDIRï¼šé…ç½®æŒ‡å®šå½“å‰å·¥ä½œç›®å½•ï¼Œ<font color="red"><strong>åç»­æ‰€æœ‰æŒ‡ä»¤(CMD)å’Œæ“ä½œéƒ½æ˜¯æŠŠè¯¥ç›®å½•ä½œä¸ºç›¸å¯¹è·¯å¾„ã€‚</strong></font></p> <p><strong>EXPOSEï¼šé…ç½®é•œåƒæš´éœ²çš„æœåŠ¡ç«¯å£ï¼Œä¸€èˆ¬é…åˆhostç½‘ç»œæ¨¡å¼ä½¿ç”¨ã€‚(ä¸é…ç½®hostæ¨¡å¼å¯åŠ¨å®¹å™¨ï¼Œä¼šè¢«-pæ¥å£æ˜ å°„è¦†ç›–</strong>)</p> <p><strong>ENTRYPOINT  /  CMDï¼šé…ç½®å®¹å™¨å¯åŠ¨åï¼Œè°ƒç”¨æ‰§è¡Œçš„å‘½ä»¤ã€‚</strong></p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token comment"># åŸºç¡€é•œåƒ</span>
<span class="token instruction"><span class="token keyword">FROM</span> openjdk:8-jdk-alpine</span>
<span class="token comment"># ä½œè€…</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span>  <span class="token string">&quot;panhai&quot;</span></span>
<span class="token comment"># æ—¶åŒº</span>
<span class="token instruction"><span class="token keyword">ENV</span> TZ=PRC</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/local/dockerfile</span>
<span class="token comment"># æ·»åŠ åº”ç”¨</span>
<span class="token instruction"><span class="token keyword">ADD</span> api-gateway-engine.jar /api-gateway-engine.jar</span>
<span class="token comment"># æ‰§è¡Œé•œåƒ</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/api-gateway-engine.jar&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>â‘¢ç¼–è¯‘Dockerfileæ–‡ä»¶ï¼Œç”ŸæˆDockeré•œåƒã€‚å…¶ä¸­åé¢çš„ç‚¹è¡¨ç¤ºä»å½“å‰ä¸Šä¸‹æ–‡ç›¸å¯¹è·¯å¾„è·å–ã€‚</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> build <span class="token parameter variable">-f</span> ./Dockerfile <span class="token parameter variable">-t</span> api-gateway-engine:1.0.1 <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>â‘£æ‰§è¡Œé•œåƒï¼Œå¹¶æš´éœ²å¯¹åº”çš„ç«¯å£ç»™å¤–éƒ¨è®¿é—®</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">7397</span>:7397 <span class="token parameter variable">-p</span> <span class="token number">8002</span>:8002  <span class="token parameter variable">--name</span> api-gateway-engine <span class="token parameter variable">-d</span> api-gateway-engine:1.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä¸é€‚ç”¨å®¹å™¨ä¸å®¿ä¸»æœºè‡ªåŠ¨æ˜ å°„ï¼Œåªå½“å®¿ä¸»æœºç½‘ç»œæ¨¡å¼ï¼Œå®¿ä¸»æœºEXPOSEæš´éœ²çš„ç«¯å£ä¼šç›´æ¥ä½¿ç”¨å®¿ä¸»æœºå¯¹åº”çš„ç«¯å£</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--network</span> <span class="token function">host</span> <span class="token parameter variable">--name</span> api-gateway-engine <span class="token parameter variable">-d</span> api-gateway-engine:1.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_6-nettyserver-bindä¸dockerè™šæ‹Ÿç½‘å¡"><a href="#_6-nettyserver-bindä¸dockerè™šæ‹Ÿç½‘å¡" class="header-anchor">#</a> 6.NettyServer#bindä¸Dockerè™šæ‹Ÿç½‘å¡</h2> <p>æ ¸å¿ƒï¼šåœ¨ä¸»æœºå¯åŠ¨NettyæœåŠ¡ç«¯æ—¶ï¼Œç»‘å®šIPåœ°å€è®¾ç½®ä¸º0.0.0.0ï¼Œä»£è¡¨ç›‘å¬æ‰€æœ‰å‘å¾€æœ¬åœ°ä¸»æœºçš„è¯·æ±‚ã€‚</p> <h4 id="serverbootstrap-bind"><a href="#serverbootstrap-bind" class="header-anchor">#</a> ServerBootstrap#bind</h4> <p>â‘ ä¸€å°æœºå™¨ä¸Šå¯èƒ½ä¼šæœ‰å¤šå¼ ç½‘å¡ï¼Œé€šè¿‡<font color="red"><strong>ifconfigæŸ¥çœ‹å½“å‰æœºå™¨çš„æ‰€æœ‰ç½‘å¡é…ç½®</strong></font>ã€‚</p> <p>â‘¡åœ¨ç¨‹åºä¸­<font color="red"><strong>NettyæœåŠ¡ç«¯ç»‘å®šçš„IPåªèƒ½æ˜¯å…¶æ‰€åœ¨æœºå™¨ä¸­(ifconfigæ‰€èƒ½æ„ŸçŸ¥åˆ°)çš„æŸä¸ªç½‘å¡çš„IPåœ°å€ã€‚</strong></font></p> <p>â‘¢Nettyé€šè¿‡bindç»‘å®šçš„åœ°å€ï¼Œæ˜¯æŒ‡æœåŠ¡ç«¯èƒ½å¤Ÿç›‘å¬åˆ°**<font color="blue">ç›®çš„åœ°IPä¸ºæ‰€ç»‘å®šç½‘å¡åœ°å€çš„IPåŒ…**</font>ã€‚æ¯”å¦‚ä½ çš„ä¸»æœºæœ‰ç½‘å¡Aå’ŒBï¼Œç¨‹åºä¸­bind(A)ï¼Œé‚£ä¹ˆ<strong>æ“ä½œç³»ç»Ÿå°±ä¼šæŠŠæ‰€æœ‰å‘å¾€Aç½‘å¡åœ°å€çš„IPåŒ…æ•°æ®ï¼Œä»å†…æ ¸æ€å¤åˆ¶åˆ°ç”¨æˆ·æ€ï¼Œè½¬å‘ç»™ç¨‹åºä½¿ç”¨ã€‚</strong></p> <p>â‘£å¦‚æœbindç»‘å®š0.0.0.0ï¼Œé‚£ä¹ˆ<font color="red">NettyæœåŠ¡ç«¯<strong>å¯ä»¥ç›‘å¬å¹¶æ”¶åˆ°</strong>å¤–éƒ¨å‘ç»™ä½ ä¸»æœºä¸Šä»»æ„ä¸€å¼ ç½‘å¡çš„è¯·æ±‚ã€‚</font></p> <h4 id="dockerä¸Šå¯åŠ¨nettyæœåŠ¡"><a href="#dockerä¸Šå¯åŠ¨nettyæœåŠ¡" class="header-anchor">#</a> Dockerä¸Šå¯åŠ¨NettyæœåŠ¡</h4> <ul><li>ç¯å¢ƒ</li></ul> <p>è™šæ‹Ÿæœº(å®¿ä¸»æœº)çš„IPä¸º192.168.200.200</p> <ul><li>é—®é¢˜æ’æŸ¥ä¸å®éªŒ</li></ul> <p>â‘ bindç»‘å®š192.168.200.200ï¼šç½‘å…³å¼•æ“åœ¨å®¿ä¸»æœºç›´æ¥java -jarå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¹¶ä¸”å¤–éƒ¨å¯é€šè¿‡192.168.200.200è®¿é—®RPCæœåŠ¡ã€‚ä½†æ˜¯æ”¾è¿›å®¿ä¸»æœºçš„dockeråç½‘å…³å¼•æ“å¯åŠ¨å¤±è´¥ã€‚</p> <p>â‘¡bindç»‘å®š127.0.0.1ï¼šç½‘å…³å¼•æ“åœ¨å®¿ä¸»æœºå’Œdockeréƒ½å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼Œä½†æ˜¯å¤–éƒ¨é€šè¿‡å®¿ä¸»æœºIPæˆ–æ˜¯127.0.0.1éƒ½æ— æ³•è®¿é—®ç½‘å…³é€šä¿¡ç»„ä»¶ï¼Œè·å–RPCæœåŠ¡ã€‚(-på’Œhostæ¨¡å¼ä¸¤ç§å®¹å™¨å¯åŠ¨æ–¹æ³•éƒ½å°è¯•è¿‡ï¼Œå‡è®¿é—®ä¸åˆ°)</p> <ul><li>ç»“è®º</li></ul> <p>â‘ å®éªŒä¸€è¯´æ˜<strong>å®¹å™¨å†…éƒ¨æ„ŸçŸ¥ä¸åˆ°å®¿ä¸»æœºçš„ç½‘å¡IP</strong>ï¼Œè¿›å…¥å®¹å™¨å†…éƒ¨é€šè¿‡ifconfigæŸ¥çœ‹ä¹ŸéªŒè¯äº†è¿™ä¸ªæƒ³æ³•ã€‚dockerå†…éƒ¨åªèƒ½æ„ŸçŸ¥åˆ°è‡ªå·±çš„<strong>è™šæ‹Ÿç½‘å¡(eth0)</strong>ï¼Œå› æ­¤NettyæœåŠ¡ç«¯ä¸èƒ½æ­£å¸¸å¯åŠ¨ã€‚</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> api-gateway-engine <span class="token function">sh</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230515/Snipaste_2023-04-27_13-31-13.fvayxpoqiu8.webp" alt="Snipaste_2023-04-27_13-31-13"></p> <p>â‘¡å®éªŒäºŒçš„ç»“è®ºå°±å¾ˆå¥½ä½“ç°äº†å¯¹bindçš„ç†è§£ï¼Œ<strong>dockerå†…éƒ¨bindç›‘å¬ç¯å›åœ°å€ç›¸å½“äºç¦æ­¢å¤–éƒ¨è®¿é—®</strong>ï¼Œé™¤éè¯·æ±‚ä¹Ÿæ˜¯åœ¨å®¹å™¨å†…éƒ¨è¿›è¡Œæˆ–è€…é…ç½®å“åº”çš„hostæ˜ å°„ï¼Œå¦åˆ™Nettyéƒ½ç›‘å¬ä¸åˆ°å¤–éƒ¨çš„è¯·æ±‚ã€‚</p> <p>â‘¢ç»¼ä¸Šï¼Œæ­¤å¤„ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯ç®—åŠ›èŠ‚ç‚¹çš„å¯åŠ¨NettyæœåŠ¡æ—¶ï¼Œ<strong>ç›‘å¬çš„IPåœ°å€è®¾ç½®ä¸º0.0.0.0</strong>ã€‚</p> <p>â‘£è™šæ‹Ÿæœºå†…éƒ¨gateway-assistå‘å¤–éƒ¨windowsç¯å¢ƒä¸‹çš„gateway-centeræ‹‰å–æœåŠ¡æ—¶ï¼Œipä¸èƒ½å¤Ÿä¸ºlocalhostã€‚å®¿ä¸»æœºä¸å¤–éƒ¨ç¯å¢ƒè¿›è¡Œé€šä¿¡æ—¶éœ€è¦è®¿é—®<strong>å¤–éƒ¨ip</strong>ï¼Œä¹Ÿå°±æ˜¯æ³¨å†Œä¸­å¿ƒçš„IPéœ€è¦æ”¹ä¸ºè™šæ‹ŸæœºIPã€‚</p> <ul><li>å…³äºDockerä¸Vmware</li></ul> <p>è™šæ‹Ÿæœºç«¯å£è½¬å‘ï¼šè®¿é—®æœ¬æœºç«¯å£æ—¶ï¼Œé…ç½®<strong>æ‰€è¦è½¬å‘ç»™è™šæ‹Ÿæœºçš„IPç«¯å£</strong>ã€‚ä»è€Œå®ç°å¤–ç½‘(è®¿é—®æœ¬ä½“æŸä¸ªç«¯å£)è®¿é—®å†…ç½‘è™šæ‹Ÿæœºã€‚</p> <p><strong>-itï¼šdocker runçš„å‚æ•°ï¼Œè¡¨ç¤ºäº¤äº’å¼è¿è¡Œï¼Œé…åˆ/bin/bashè¿›è¡Œå‘½ä»¤è¡Œè¾“å…¥</strong></p> <p>å®¹å™¨ä¹‹é—´è¿›è¡Œè®¿é—®é€šè¿‡docker0ç½‘çƒè¿›è¡Œï¼š<a href="https://blog.csdn.net/weixin_40008566/article/details/109906688" target="_blank" rel="noopener noreferrer">docker æŸ¥çœ‹è™šæ‹Ÿç½‘å¡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>è™šæ‹Ÿæœºä¸‰ç§è¿æ¥æ–¹å¼ï¼š<a href="https://www.cnblogs.com/yunjisuanchengzhanglu/p/16051416.html" target="_blank" rel="noopener noreferrer">è™šæ‹Ÿæœºä¸‰ç§ç½‘ç»œè¿æ¥æ–¹å¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_7-rediså‘å¸ƒè®¢é˜…å®ç°ç®—åŠ›è‡ªåŠ¨æ³¨å†Œrpc"><a href="#_7-rediså‘å¸ƒè®¢é˜…å®ç°ç®—åŠ›è‡ªåŠ¨æ³¨å†Œrpc" class="header-anchor">#</a> 7.Rediså‘å¸ƒè®¢é˜…å®ç°ç®—åŠ›è‡ªåŠ¨æ³¨å†ŒRPC</h2> <ul><li>åŠŸèƒ½å®ç°</li></ul> <p>ç›®å‰æ•´ä¸ªç½‘å…³ç³»ç»Ÿå¯åŠ¨éœ€è¦éµå¾ªä»¥ä¸‹é¡ºåºï¼šâ‘ æ³¨å†Œä¸­å¿ƒâ‘¡RPCåº”ç”¨æä¾›â‘¢ç½‘å…³ç®—åŠ›å¼•æ“ã€‚ä¹Ÿå°±æ˜¯è¯´åç»­æœ‰æ–°çš„åº”ç”¨æ¥å£æš´éœ²æœåŠ¡åï¼Œ<strong>ä¸ä¼šè¢«ç®—åŠ›å¼•æ“å­˜å…¥ç¼“å­˜</strong>ï¼Œä¹Ÿå°±ä½¿ç”¨ä¸äº†æ•´ä¸ªç½‘å…³è°ƒç”¨æœåŠ¡ã€‚è§£å†³çš„å…³é”®ç‚¹æ˜¯engineå¦‚ä½•æ„ŸçŸ¥åˆ°æ¯ä¸ªprovideræä¾›çš„æœåŠ¡ã€‚</p> <p>é•¿è½®è¯¢ã€é•¿é“¾æ¥æ–¹æ¡ˆï¼šâ‘ ç½‘å…³å¼•æ“åœ¨Springç”Ÿå‘½å‘¨æœŸåˆå§‹åŒ–ä¸­ï¼Œå¦èµ·ä¸€ä¸ªçº¿ç¨‹ï¼Œ<strong>åœ¨åå°while(true)ä¸æ–­é‡å¤æ‹‰å–æ‰€æœ‰æœåŠ¡</strong>ï¼Œå¹¶å­˜å…¥ç¼“å­˜ã€‚æ˜¾ç„¶ä¸è®ºæ˜¯å¯¹äºç½‘å…³å¼•æ“è¿˜æ˜¯æ³¨å†Œä¸­å¿ƒéƒ½æ¶ˆè€—å ç”¨ä¸å°‘èµ„æºã€‚
â‘¡ç½‘å…³å¼•æ“å†å¯åŠ¨ä¸€ä¸ªNettyæœåŠ¡ç«¯(ç›‘å¬ç«¯å£ä¸èƒ½å’Œå·²æœ‰ç½‘å…³é€šä¿¡æœåŠ¡ç›‘å¬ç«¯å£ç›¸åŒ)ï¼Œæ³¨å†Œä¸­å¿ƒ<strong>å¯åŠ¨ä¸€ä¸ªNettyå®¢æˆ·ç«¯å’Œengineå»ºç«‹è¿æ¥</strong>ï¼Œæ¯æ¬¡æœ‰æ–°çš„æœåŠ¡æ¥å£æ³¨å†Œè¿›æ¥åï¼Œé€šè¿‡ç®¡é“writeAndFlush(systemId)é€šçŸ¥æœåŠ¡ç«¯ï¼Œæ‹‰å–æ³¨å†Œæ–°çš„æ¥å£ã€‚<strong>ä½†ç»´æŒè¿™æ ·çš„é•¿é“¾æ¥ä¹Ÿä¼šå ç”¨ä¸å°‘èµ„æºã€‚</strong></p> <p>æœ€ä½³å®è·µï¼šä½¿ç”¨<font color="red"><strong>äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶å¼‚æ­¥è¿›è¡Œ</strong></font>ï¼Œæ¯”å¦‚redisã€MQï¼Œè¿™é‡Œ<strong>ç½‘å…³å¼•æ“</strong>ä¸<strong>æ³¨å†Œä¸­å¿ƒ</strong>é‡‡ç”¨<strong>redisçš„å‘å¸ƒè®¢é˜…æ¨¡å¼</strong>è¿›è¡Œé€šä¿¡ã€‚æ–°çš„åº”ç”¨æ¥å£å¯åŠ¨æ³¨å†Œåï¼Œè§¦å‘æ³¨å†Œä¸­å¿ƒçš„äº‹ä»¶å‘å¸ƒæœºåˆ¶ï¼Œgateway-centerå‘ç½‘å…³å¼•æ“<strong>æ¨é€æ–°æ³¨å†Œæ¥å£çš„ä¿¡æ¯</strong>ï¼Œgateway-assistæ”¶åˆ°åè¿›è¡Œæ›´æ–°ã€‚</p> <p>æ­¤å¤„æ¯å¯åŠ¨ä¸€ä¸ªæ–°çš„provideræ³¨å†Œè¿›æ•°æ®åº“æ—¶ï¼Œéƒ½æ˜¯ä»¥systemIdä¸ºå•ä½ï¼Œ<strong>assistæ³¨å†Œæ—¶éœ€è¦ä¿å­˜åº”ç”¨ä¸‹çš„æ‰€æœ‰æ¥å£+æ‰€æœ‰æ–¹æ³•</strong>ã€‚å› æ­¤<font color="red"><strong>äº‹ä»¶æ¨é€æ—¶ä»…éœ€è¦ä¼ é€’systemIdå³å¯ã€‚</strong></font>è€Œåç»­å¦‚æœç»†åŒ–åˆ°åªæ³¨å†ŒæŸä¸ªæ–¹æ³•æ—¶ï¼Œaddmapperä¹Ÿéœ€è¦ç»†åŒ–æ‹†åˆ†æ³¨å†Œä¸åŒçš„æ¨¡å—ã€‚</p> <p><img src="https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230515/redis.1zu691y6pp34.webp" alt="redis"></p> <ul><li>ç»†èŠ‚</li></ul> <p>GatewayApplication#addMappersï¼šå› ä¸ºå‘Configurationæ³¨å†Œéœ€è¦<strong>å¤ç”¨</strong>ï¼Œæ‰€ä»¥å¯ä»¥æŠ½ç¦»æ³¨å†Œæ¨¡å—æˆä¸€ä¸ªæ–¹æ³•ã€‚</p> <p>queryApplicationSystemRichInfo(String gatewayId, String systemId)ï¼šæ­¤å¤„åœ¨æ–¹æ³•å¤ç”¨ä¸Šçš„è®¾è®¡ååˆ†å·§å¦™ã€‚å› ä¸ºç¬¬ä¸€æ¬¡æ³¨å†Œæ—¶éœ€è¦æ‹‰å–ç½‘å…³ä¸‹æ³¨å†Œçš„<font color="red"><strong>æ‰€æœ‰åº”ç”¨æ¥å£</strong></font>ï¼Œè€Œç¬¬äºŒæ¬¡ä»…éœ€è¦æ‹‰å–<font color="red"><strong>æŒ‡å®šåº”ç”¨ä¸‹çš„æ‰€æœ‰æ¥å£æ–¹æ³•</strong></font>ã€‚<strong>å› æ­¤ä¼ å‚æ—¶systemIdä¸ºç©ºï¼Œå¤šåŠ ä¸€æ¬¡ç½‘å…³åº”ç”¨åˆ†é…ä¿¡æ¯çš„æŸ¥è¯¢ï¼›è€Œç¬¬äºŒæ¬¡æ³¨å†Œç›´æ¥æŒ‡å®šå˜åŒ–çš„systemIdã€‚</strong></p> <p>Center-RpcRegisterManage#registerEventï¼šæ¶ˆæ¯äº‹ä»¶å‘å¸ƒï¼Œç”±sdkè§¦å‘è°ƒç”¨ã€‚</p> <p>Assist-GatewayApplication#receiveMessageï¼šæŒ‡å®šçš„æ¶ˆæ¯ç›‘å¬æ–¹å¤„ç†å™¨æ–¹æ³•ï¼Œ<strong>å…¥å‚ä¸ºæ¨é€çš„æ¶ˆæ¯å†…å®¹</strong>ã€‚</p> <ul><li>redisæ¶ˆæ¯è®¢é˜…å‘å¸ƒ</li></ul> <p>â‘ redisäº‹ä»¶å‘å¸ƒç«¯ï¼š</p> <p>redistemplateï¼šé€šè¿‡é…ç½®æ–¹å¼æ³¨å…¥Beanï¼Œè®¾ç½®é»˜è®¤åºåˆ—åŒ–å™¨fastjsonredisserializerï¼Œå…¥å‚è‡ªåŠ¨æ³¨å…¥RedisConnectionFactoryæ ¹æ®ymlé…ç½®çš„redisç«¯å£å»ºç«‹é“¾æ¥ã€‚</p> <p>RedisTemplate#convertAndSendï¼šå‘å¸ƒæ¶ˆæ¯ï¼ŒæŒ‡æ˜æ¥æ”¶æ–¹Topicé€šä¿¡ä¿¡é“ï¼Œå’Œæ¶ˆæ¯å†…å®¹ã€‚</p> <p>â‘¡redisç›‘å¬å™¨ï¼š</p> <p><strong>RedisConnectionFactoryï¼šè´Ÿè´£è®¾ç½®è¿æ¥å‚æ•°ï¼ŒredisæœåŠ¡åœ°å€ã€‚</strong></p> <p>æ³¨å…¥è¿æ¥å·¥å‚Beanå¹¶ä¿®æ”¹é…ç½®ï¼Œä»æ³¨å†Œä¸­å¿ƒæ‹‰å–redisçš„ç«¯å£IPä¿¡æ¯(properties)ï¼Œåˆ›å»ºJediså®¢æˆ·ç«¯è¿æ¥(ä¸éœ€è¦åœ¨assisté‡æ–°é…ç½®redisæœåŠ¡åœ°å€)ã€‚</p> <p><strong>RedisMessageListenerContainer</strong>ï¼šæ³¨å…¥æ¶ˆæ¯ç›‘å¬å™¨å®¹å™¨ï¼Œéœ€è¦è®¾ç½®<font color="red"><strong>è¿æ¥å·¥å‚</strong></font>å’Œ<font color="red"><strong>ç›‘å¬å™¨é€‚é…å™¨</strong></font>ã€‚å¹¶å°†<strong>æ¶ˆæ¯é€šä¿¡<font color="red">Topic</font>ä¸ç›‘å¬å™¨é€‚é…å™¨ç»‘å®š</strong>ã€‚</p> <p><strong>MessageListenerAdapter</strong>ï¼šæŒ‡æ˜<strong>æ¶ˆæ¯å¤„ç†å§”æ‰˜å¯¹è±¡</strong>ï¼Œä»¥åŠ<strong>æ¶ˆæ¯å¤„ç†æ–¹æ³•(æœ€ç»ˆå‘å¸ƒæ–¹çš„æ¶ˆæ¯ä¼šè¢«è¯¥æ–¹æ³•æ¥æ”¶)</strong>ã€‚</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/blage-coding/blog/edit/master/docs/é¡¹ç›®ç¬”è®°/01.ç½‘å…³/03.Api-gateway-assist.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=%E7%BD%91%E5%85%B3" title="æ ‡ç­¾">#ç½‘å…³</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2023/12/15, 15:49:57</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/17afbe/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Api-gateway-center</div></a> <a href="/pages/0e9866/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Api-gateway-sdk</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/17afbe/" class="prev">Api-gateway-center</a></span> <span class="next"><a href="/pages/0e9866/">Api-gateway-sdk</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2023-2024
    <span>blageCoder</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.36a8861c.js" defer></script><script src="/assets/js/2.1ba3a2de.js" defer></script><script src="/assets/js/3.6e4df72f.js" defer></script><script src="/assets/js/465.3bd78a23.js" defer></script>
  </body>
</html>
