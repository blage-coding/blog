(window.webpackJsonp=window.webpackJsonp||[]).push([[383],{703:function(t,s,a){"use strict";a.r(s);var n=a(4),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#join"}},[t._v("#")]),t._v(" join")]),t._v(" "),s("p",[t._v("ä½¿ç”¨joinå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿä¸‹é¢å›´ç»•joinè¯­å¥çš„æ‰§è¡Œæµç¨‹ï¼Œä½¿ç”¨å‰é¢å­¦è¿‡çš„ç´¢å¼•çŸ¥è¯†å±•å¼€ã€‚")]),t._v(" "),s("h2",{attrs:{id:"joinè¯­å¥æ‰§è¡Œæµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#joinè¯­å¥æ‰§è¡Œæµç¨‹"}},[t._v("#")]),t._v(" joinè¯­å¥æ‰§è¡Œæµç¨‹")]),t._v(" "),s("p",[t._v("åœºæ™¯ï¼št1å’Œt2è¡¨åŒæ—¶éƒ½æœ‰ä¸»é”®idï¼Œç´¢å¼•å­—æ®µaï¼Œæ— ç´¢å¼•å­—æ®µbã€‚t2è¡¨æ’å…¥äº†1000è¡Œæ•°æ®ï¼Œt1è¡¨ä¸­æ’å…¥äº†100è¡Œæ•°æ®ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_1-ç´¢å¼•joinæŸ¥è¯¢-nlj"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç´¢å¼•joinæŸ¥è¯¢-nlj"}},[t._v("#")]),t._v(" 1.ç´¢å¼•joinæŸ¥è¯¢(NLJ)")]),t._v(" "),s("p",[t._v("ä½¿ç”¨"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("straight_join")])]),t._v("æ˜¾ç¤ºæŒ‡å®št1ä½œä¸ºé©±åŠ¨è¡¨ï¼Œt2ä½œä¸ºè¢«é©±åŠ¨è¡¨ã€‚æ•´ä¸ªè¯­å¥æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š")],1),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 straight_join t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",[s("li",[t._v("é¦–å…ˆå¯¹t1ä¼šè¿›è¡Œå…¨è¡¨æŸ¥è¯¢ï¼Œç„¶åå°†æ¯ä¸€è¡Œæ‰«æçš„æ•°æ®æ”¾åˆ°t2è¡¨ä¸­è¿›è¡Œæ¯”è¾ƒã€‚å› æ­¤t1æ€»å…±æ‰«æ"),s("strong",[t._v("100")]),t._v("è¡Œæ•°æ®ã€‚")]),t._v(" "),s("li",[t._v("ç”±äºæ˜¯å¯¹t2çš„aå­—æ®µè¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥èµ°ç´¢å¼•ã€‚å› æ­¤æ¯è¡Œt1çš„è¡Œè®°å½•éƒ½ä¼šå–å‡ºaå­—æ®µå€¼ï¼Œåœ¨t2çš„aå­—æ®µç´¢å¼•æ ‘è¿›è¡Œæ¯”å¯¹ï¼Œç„¶åå›è¡¨æ‹¿åˆ°t2çš„è¡Œè®°å½•å¹¶å’Œt1çš„è¡Œè®°å½•æ‹¼æ¥ã€‚")]),t._v(" "),s("li",[t._v("è¿™é‡Œå‡è®¾t1è¡¨ä¸­çš„æ•°æ®å’Œt2å”¯ä¸€å¯¹åº”ã€‚å› æ­¤t2ä¹Ÿä¼šæ‰«æ100è¡Œæ•°æ®ã€‚æ€»å…±æ‰«æè¡Œæ•°ä¸º200ã€‚")])]),t._v(" "),s("p",[t._v("å¯ä»¥å‘ç°åœ¨è¿™ç§æ¡ä»¶ä¸‹çš„joinè¯­å¥æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("èµ°äº†ç´¢å¼•çš„joinè¯­å¥æ¯”æ‹†æˆå¤šä¸ªå•è¡¨è¯­å¥çš„æ‰§è¡Œæ€§èƒ½å¥½")]),t._v("ã€‚å¦‚æœé€‰æ‹©æ‹†æˆå•è¡¨çš„è¯­å¥ï¼Œé¦–å…ˆä»t1æ‹¿åˆ°å…¨è¡¨æ‰«æç»“æœï¼Œç„¶åæ¯æ¬¡å–å‡ºaå­—æ®µçš„å€¼ï¼Œæ¥ç€æ‰§è¡Œ100æ¬¡SQLè¯­å¥æ‹¼æ¥where a=$t1.aã€‚æ‰«æè¡Œæ•°è™½ç„¶å’Œjoinç›¸åŒï¼Œä½†æ˜¯æ‰§è¡Œäº†101æ¡SQLè¯­å¥ã€‚")]),t._v(" "),s("li",[t._v("é©±åŠ¨è¡¨ä¼šèµ°å…¨è¡¨æ‰«æï¼Œå› æ­¤å°½é‡"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("è®©å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨")])]),t._v("ã€‚")],1)]),t._v(" "),s("h3",{attrs:{id:"_2-ä¸èµ°ç´¢å¼•çš„joinæŸ¥è¯¢-bnl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸èµ°ç´¢å¼•çš„joinæŸ¥è¯¢-bnl"}},[t._v("#")]),t._v(" 2.ä¸èµ°ç´¢å¼•çš„joinæŸ¥è¯¢(BNL)")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("å¦‚æœjoinå­—æ®µä¸èµ°ç´¢å¼•ï¼Œé‚£ä¹ˆä¸é€‚åˆä½¿ç”¨joinæŸ¥è¯¢ï¼Œåº”è¯¥æ‹†æˆå•è¡¨")])]),t._v("ã€‚")],1),t._v(" "),s("h4",{attrs:{id:"_2-1ä¸åˆ†å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1ä¸åˆ†å—"}},[t._v("#")]),t._v(" 2.1ä¸åˆ†å—")]),t._v(" "),s("p",[t._v("å¦‚æœæ˜¯è¢«é©±åŠ¨è¡¨æ²¡æœ‰èµ°ç´¢å¼•åˆä¼šæ€ä¹ˆæ ·ï¼Ÿt2ä¼šæ‰«æ100*1000è¡Œæ•°æ®ä¹ˆï¼Ÿå®é™…ç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 straight_join t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",[s("li",[s("strong",[t._v("å°†t1è¡¨çš„æ‰€æœ‰è¡Œæ•°æ®è¯»å…¥çº¿ç¨‹çš„å†…å­˜"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[t._v("join_buffer")]),t._v("å½“ä¸­")],1),t._v("ã€‚æ‰«æè¡Œæ•°100")]),t._v(" "),s("li",[t._v("t2è¡¨è¿›è¡Œå…¨è¡¨æ‰«æï¼Œå–å‡ºæ‰«æåˆ°çš„æ¯è¡Œæ•°æ®ï¼Œä¸å†…å­˜"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ä¸­çš„t1è¡¨æ•°æ®è¿›è¡Œ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æ¯”å¯¹")])]),t._v("ï¼Œæ»¡è¶³è¿æ¥æ¡ä»¶çš„ä¸t2è¡¨è®°å½•æ‹¼æ¥ä½œä¸ºå…¶ä¸­ä¸€ä¸ªç»“æœé›†ã€‚æ‰«æè¡Œæ•°1000ï¼Œæ€»å…±æ‰«æè¡Œæ•°1100ã€‚"),s("strong",[t._v("æ¯”è¾ƒåˆ¤æ–­æ¬¡æ•°")]),t._v("100*1000=åä¸‡æ¬¡ã€‚")],1),t._v(" "),s("li",[t._v("ç›¸æ¯”äºt2è¡¨ç›´æ¥æ‰«æåä¸‡è¡Œï¼Œæ—¶é—´å¤æ‚åº¦ç›¸åŒã€‚ä½†æ˜¯æ¯”è¾ƒåˆ¤æ–­æ“ä½œæ˜¯åœ¨å†…å­˜è¿›è¡Œï¼Œå› æ­¤é€Ÿåº¦ä¸Šä¼šå¿«å¾ˆå¤šã€‚")])]),t._v(" "),s("p",[t._v("æ­¤æ—¶é©±åŠ¨è¡¨æ— è®ºæ˜¯å¤§è¡¨è¿˜æ˜¯å°è¡¨ï¼Œæ¯”è¾ƒæ¬¡æ•°å’Œæ‰«ææ¬¡æ•°éƒ½æ²¡æœ‰åŒºåˆ«ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_2-2åˆ†å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2åˆ†å—"}},[t._v("#")]),t._v(" 2.2åˆ†å—")]),t._v(" "),s("p",[t._v("è¿™é‡Œå¦‚æœ"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ä¸€æ¬¡æ€§æ”¾ä¸ä¸‹è¡¨t1(å‡è®¾åªèƒ½æ”¾è¿›60è¡Œè®°å½•)ï¼Œé‚£ä¹ˆéœ€è¦å°†t1è¡¨"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("åˆ†å—")])]),t._v("æ”¾è¿›"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ï¼š")],1),t._v(" "),s("ol",[s("li",[t._v("å…ˆå°†t1è¡¨å‰60è¡Œè®°å½•æ”¾å…¥å†…å­˜"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ã€‚")],1),t._v(" "),s("li",[t._v("æ‰«æt2è¡¨çš„æ‰€æœ‰è¡Œè®°å½•ï¼Œå¹¶è¿›è¡Œæ¯”è¾ƒã€‚æ­¤æ—¶æ‰«æè¡Œæ•°1000æ¡ã€‚")]),t._v(" "),s("li",[t._v("æ¸…ç©º"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ï¼Œç„¶åå°†t1è¡¨å40è¡Œè®°å½•æ”¾å…¥"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("å½“ä¸­ã€‚")],1),t._v(" "),s("li",[t._v("å†æ¬¡æ‰«æt2è¡¨æ‰€æœ‰è®°å½•ï¼Œå¹¶è¿›è¡Œæ¯”è¾ƒåˆ¤æ–­ã€‚æ€»æ¯”è¾ƒæ¬¡æ•°ä¸å˜è¿˜æ˜¯åä¸‡æ¬¡ï¼Œè€Œ"),s("strong",[t._v("æ€»æ‰«æå‡½æ•°ç¿»å€")]),t._v("å˜ä¸º2000æ¡ã€‚")])]),t._v(" "),s("p",[t._v("æ ¹æ®è®¡ç®—ï¼Œ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("åˆ†å—joinåœºæ™¯åº”è¯¥è®©å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œå¹¶ä¸”åº”è¯¥å°†join_buffer_sizeè®¾å¤§ä¸€äº›ï¼Œä»è€Œé™ä½æ€»æ‰«ææ¬¡æ•°ï¼Œæé«˜joinè¯­å¥æ‰§è¡Œæ•ˆç‡")])]),t._v("ã€‚")],1),t._v(" "),s("h3",{attrs:{id:"_3-bnl-åˆ†å—ä¸èµ°ç´¢å¼•-ç®—æ³•å¯¹buffer-poolçš„å½±å“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-bnl-åˆ†å—ä¸èµ°ç´¢å¼•-ç®—æ³•å¯¹buffer-poolçš„å½±å“"}},[t._v("#")]),t._v(" 3.BNL(åˆ†å—ä¸èµ°ç´¢å¼•)ç®—æ³•å¯¹buffer poolçš„å½±å“")]),t._v(" "),s("p",[t._v("å‰é¢æåˆ°å¦‚æœbuffer poolåˆ†ä¸ºoldåŒºåŸŸå’ŒyoungåŒºåŸŸï¼Œå¦‚æœoldåŒºåŸŸçš„æ•°æ®é¡µè¶…è¿‡1så¦‚æœå†æ¬¡è¢«è®¿é—®å°±ä¼šè¢«æ”¾åˆ°youngåŒºåŸŸã€‚å¯¹äºä½¿ç”¨äº†BNLç®—æ³•çš„joinè¯­å¥ï¼Œåœ¨ä»¥ä¸‹æƒ…å†µå¯èƒ½ä¼šå½±å“åˆ°buffer poolï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("è¢«é©±åŠ¨è¡¨æ˜¯å†·æ•°æ®è¡¨")]),t._v("ã€‚åœ¨BNLç®—æ³•ä¸­é©±åŠ¨è¡¨è¢«åˆ†å—ï¼Œå› æ­¤"),s("strong",[t._v("è¢«é©±åŠ¨è¡¨ä¼šè¢«æ‰«æå¤šæ¬¡")]),t._v("ä¸æ¯ä¸ªå—è¿›è¡Œæ¯”è¾ƒ,è€Œå¯¹äºå¤§è¢«é©±åŠ¨è¡¨ç¬¬äºŒæ¬¡æ‰«æçš„æ—¶é—´é—´éš”å¾ˆå¯èƒ½ä¼šè¶…è¿‡1sã€‚ä»è€Œå¯¼è‡´"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("å†·è¡¨æ•°æ®éƒ½è¿›å…¥youngåŒºåŸŸ")])]),t._v("ã€‚")],1),t._v(" "),s("li",[s("strong",[t._v("è¢«é©±åŠ¨å†·è¡¨æ˜¯ä¸€ä¸ªå¤§è¡¨")]),t._v("ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æ­£å¸¸ä¸šåŠ¡çš„æ•°æ®é¡µæ²¡æ³•è¿›å…¥youngåŒºåŸŸ")])]),t._v("ã€‚å‡è®¾æ­¤æ—¶ä¸šåŠ¡æ•°æ®é¡µè¿˜åœ¨oldåŒºåŸŸï¼Œåœ¨æ‰§è¡Œjoinè¯­å¥æ—¶ï¼Œå› ä¸ºå½“å‰è¢«é©±åŠ¨å¤§è¡¨æ•°æ®é¡µæ”¾ä¸ä¸‹oldåŒºåŸŸï¼Œå¯¼è‡´"),s("strong",[t._v("oldåŒºåŸŸéœ€è¦æ·˜æ±°å†…å­˜é¡µ(åŒ…æ‹¬ä¸šåŠ¡çš„æ•°æ®é¡µ")]),t._v(")ã€‚")],1)]),t._v(" "),s("p",[t._v("å› æ­¤å¤§è¡¨joinä¸ä»…å¯¹"),s("strong",[t._v("ç£ç›˜IO")]),t._v("æœ‰å½±å“ï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¹"),s("strong",[t._v("å†…å­˜å‘½ä¸­ç‡")]),t._v("é€ æˆå½±å“ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œåªèƒ½å¤Ÿå¢å¤§"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("å†…å­˜å¤§å°ï¼Œå°½å¯èƒ½çš„å‡å°‘è¢«é©±åŠ¨è¡¨çš„æ‰«ææ¬¡æ•°ã€‚")],1),t._v(" "),s("h3",{attrs:{id:"_4-æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ€»ç»“"}},[t._v("#")]),t._v(" 4.æ€»ç»“")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å°è¡¨")]),t._v(" "),s("p",[t._v("å¯¹äºè¡¨t1ä¸t2æ¥è¯´ï¼Œç»è¿‡whereæ¡ä»¶ç­›é€‰åï¼Œå‚ä¸joinçš„è¡Œæ•°è¶Šå°çš„ï¼Œä»¥åŠæ ¹æ®selectå­—æ®µå’Œonå­—æ®µåˆ¤æ–­å‚ä¸joinè¿æ¥çš„è¡Œæ•°æ®é‡è¶Šå°çš„è¡¨ç§°ä¹‹ä¸ºâ€å°è¡¨â€œã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("NLJä¸­é©±åŠ¨è¡¨æ˜¯å–å‡ºä¸€è¡Œè¡Œè¿›è¡Œæ¯”è¾ƒçš„è¡¨ï¼ŒBNLä¸­é©±åŠ¨è¡¨æ˜¯è¢«ä¸€è¡Œè¡Œè®°å½•æ¯”è¾ƒçš„è¡¨")]),t._v("ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨joinè¯­å¥ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœè¢«é©±åŠ¨è¡¨ä½¿ç”¨äº†ç´¢å¼•(explainæŸ¥çœ‹Extraå­—æ®µä¸º"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("Index Nested-Loop")])]),t._v(")ï¼Œåˆ™å¯ä»¥ä½¿ç”¨join")],1),t._v(" "),s("li",[t._v("å¦‚æœjoinçš„å­—æ®µéƒ½ç”¨ä¸ä¸Šç´¢å¼•(explainæŸ¥çœ‹Extraå­—æ®µä¸º"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("Block Nested-Loop")])]),t._v(")ï¼Œåˆ™ä¸èƒ½å¤Ÿä½¿ç”¨joinã€‚éœ€è¦æ‹†åˆ†æˆå•è¡¨SQLè¯­å¥ï¼Œé¿å…è¿‡å¤šçš„è¡Œæ‰«æã€‚")],1)])]),t._v(" "),s("li",[s("p",[t._v("æŸ¥è¯¢è¯­å¥ä½¿ç”¨joinçš„æƒ…å†µä¸‹ï¼Œåº”è¯¥"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("å°½é‡ä¿è¯â€å°è¡¨â€œä½œä¸ºé©±åŠ¨è¡¨")])]),t._v("ã€‚")],1)])]),t._v(" "),s("h2",{attrs:{id:"joinè¯­å¥ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#joinè¯­å¥ä¼˜åŒ–"}},[t._v("#")]),t._v(" joinè¯­å¥ä¼˜åŒ–")]),t._v(" "),s("p",[t._v("æ¥ä¸‹æ¥è°ˆè®ºä¸Šé¢ä¸¤ç§joinç®—æ³•(ä½¿ç”¨ç´¢å¼•"),s("strong",[t._v("NLJ")]),t._v("å’Œä¸ä½¿ç”¨ç´¢å¼•åˆ†å—"),s("strong",[t._v("BNL")]),t._v(")çš„ä¼˜åŒ–ã€‚")]),t._v(" "),s("p",[t._v("åœºæ™¯ï¼št1è¡¨æ’å…¥äº†1000è¡Œæ•°æ®ï¼Œå…¶ä¸­æ¯è¡Œçš„a=1001-idï¼Œä¹Ÿå°±æ˜¯idçš„é€†åºç»“æœã€‚t2è¡¨æ’å…¥äº†100ä¸‡è¡Œæ•°æ®ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_1-muti-range-readä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-muti-range-readä¼˜åŒ–"}},[t._v("#")]),t._v(" 1.Muti-Range Readä¼˜åŒ–")]),t._v(" "),s("p",[s("strong",[t._v("Muti-Range Read")]),t._v("(MRR)ä¼˜åŒ–ï¼š"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("åœ¨å¤šå€¼æŸ¥è¯¢ä¸‹ï¼Œå°½é‡ä½¿ç”¨é¡ºåºè¯»ç›˜")])]),t._v("ã€‚å…·ä½“æ¥è¯´ï¼Œå¤šè¡Œè®°å½•æ‹¿åˆ°idå€¼è¿›è¡Œå›è¡¨æ—¶ï¼Œå¦‚æœæŒ‰ç…§"),s("strong",[t._v("ä¸»é”®é€’å¢çš„é¡ºåºæŸ¥è¯¢")]),t._v("çš„è¯ï¼Œå¯¹ç£ç›˜è¯»å¯ä»¥è¿‘ä¼¼äº"),s("strong",[t._v("é¡ºåºè¯»")]),t._v("ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚")],1),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ä¸Šè¿°SQLè¯­å¥å¯¹äºè¡¨t1æ¥è¯´ï¼Œæ ¹æ®aå­—æ®µè¿›è¡Œå›è¡¨æ—¶æ¯ä¸ªidå€¼éƒ½æ˜¯å€’åºå­˜å‚¨(idéšæœºè¯»æ€§èƒ½æŸ¥)ï¼Œå› æ­¤InnoDBä¼šå¯¹aå­—æ®µå–åˆ°çš„idå€¼è¿›è¡ŒMRRä¼˜åŒ–(explainåˆ†æåExtraå­—æ®µå‡ºç°"),s("strong",[t._v("using MRR")]),t._v(")ï¼Œå…·ä½“å¦‚ä¸‹ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230710/image.72d9mnrpbv40.png",alt:""}})]),t._v(" "),s("ol",[s("li",[t._v("æ ¹æ®aç´¢å¼•å®šä½åˆ°æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å€¼ï¼Œå¹¶å°†æ‰€æœ‰idå€¼æ”¾å…¥åˆ°"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("read_rnd_buffer")])]),t._v("å½“ä¸­ã€‚")],1),t._v(" "),s("li",[t._v("åœ¨"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("read_rnd_buffer")])]),t._v("é‡Œå¯¹idå€¼è¿›è¡Œ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("é€’å¢æ’åº")])]),t._v("ã€‚")],1),t._v(" "),s("li",[t._v("æ ¹æ®"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("read_rnd_buffer")])]),t._v("å†…æœ‰åºçš„idï¼Œä»èšç°‡ç´¢å¼•æ ‘ä¸­æŸ¥å¶å­èŠ‚ç‚¹è®°å½•ï¼Œå¹¶æ·»åŠ åˆ°ç»“æœé›†å½“ä¸­ã€‚")],1)]),t._v(" "),s("p",[t._v("å¦å¤–è¦æƒ³ç¨³å®šä½¿ç”¨MRRï¼Œåˆ™MySQLéœ€è¦è®¾ç½®å¦‚ä¸‹å‚æ•°ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" optimizer_switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mrr_cost_based=off"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-nljä¼˜åŒ–-batched-key-access"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-nljä¼˜åŒ–-batched-key-access"}},[t._v("#")]),t._v(" 2.NLJä¼˜åŒ–â€”â€”Batched Key Access")]),t._v(" "),s("p",[s("strong",[t._v("Batched Key Access")]),t._v("(BKA)ç®—æ³•ï¼šæœ¬è´¨ä¸Šæ˜¯"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("NLJç®—æ³•+MRRä¼˜åŒ–")])]),t._v("ã€‚")],1),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 straight_join t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("åœ¨NLJç®—æ³•ä¸­ï¼Œé©±åŠ¨è¡¨t1æ¯æ¬¡åªä¼šä»ç£ç›˜æ‹¿"),s("strong",[t._v("ä¸€è¡Œ")]),t._v("æ•°æ®åˆ°å†…å­˜ï¼Œä¸æ•´ä¸ªè¢«é©±åŠ¨è¡¨ä¸­çš„æ‰€æœ‰è¡Œè®°å½•è¿›è¡Œæ¯”å¯¹æœ€åå›è¡¨ï¼Œå› æ­¤t2è¡¨æ¯æ¬¡"),s("strong",[t._v("åªä¼šåŒ¹é…ä¸€è¡Œè®°å½•å¹¶å›è¡¨ä¸€æ¬¡")]),t._v("ï¼Œè¿™æ—¶å¦‚æœä½¿ç”¨MRRä¼˜åŒ–å°±æ²¡æœ‰ä»»ä½•ä¼˜åŠ¿ã€‚")]),t._v(" "),s("p",[t._v("è¦ä½¿ç”¨MRRå…³é”®è¦"),s("strong",[t._v("ä¿è¯è¢«é©±åŠ¨è¡¨çš„å›è¡¨æ—¶ï¼Œèƒ½å¤Ÿ"),s("font",{attrs:{color:"red"}},[t._v("æ‰¹é‡")]),t._v("çš„å›è¡¨ï¼Œå¦‚æœä¸€è¡Œä¸€è¡Œè¿›è¡Œå›è¡¨é‚£å°±ä¸èƒ½ä¿è¯æ¯æ¬¡å›è¡¨idçš„é€’å¢æœ‰åºæ€§äº†")],1),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å…·ä½“æ¥è¯´ï¼Œåœ¨NLJç®—æ³•å‰ï¼Œå…ˆæŠŠ"),s("strong",[t._v("é©±åŠ¨è¡¨æ•°æ®")]),t._v("æ”¾åˆ°"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("å½“ä¸­ï¼Œç„¶åå†ä»å†…å­˜ä¸­æ‰¹é‡å¾€t2è¡¨ä¼ å…¥"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("å¤šä¸ªt1è¡¨çš„è¡Œè®°å½•")])]),t._v("ï¼Œæ­¤æ—¶å°±èƒ½ç”¨ä¸ŠMRRä¼˜åŒ–ã€‚")],1),t._v(" "),s("p",[t._v("å¦å¤–ï¼Œè¦å¯ç”¨BKAç®—æ³•ï¼Œéœ€è¦åœ¨æ‰§è¡ŒSQLè¯­å¥ä¹‹å‰è¿›è¡Œè®¾ç½®ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" optimizer_switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mrr=on,mrr_cost_based=off,batched_key_access=on'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_3-bnlä¼˜åŒ–-å»ºç«‹ç´¢å¼•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-bnlä¼˜åŒ–-å»ºç«‹ç´¢å¼•"}},[t._v("#")]),t._v(" 3.BNLä¼˜åŒ–â€”â€”å»ºç«‹ç´¢å¼•")]),t._v(" "),s("p",[t._v("å‰é¢æåˆ°BNLç®—æ³•æ€§èƒ½æ¯”è¾ƒå·®ï¼Œå› æ­¤åœ¨joinè¯­å¥åº”è¯¥å°½é‡é¿å…ä½¿ç”¨BNLã€‚æ ¸å¿ƒåšæ³•å°±æ˜¯"),s("strong",[t._v("å»ºç«‹ç´¢å¼•è½¬åŒ–ä¸ºBKA")]),t._v("ã€‚")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("â‘ æœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯åœ¨"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("è¢«é©±åŠ¨è¡¨ä¸Šå»ºç«‹ç´¢å¼•")])]),t._v("ï¼Œä»è€Œå°†BNLè½¬åŒ–ä¸ºBKAç®—æ³•ã€‚")],1),t._v(" "),s("p",[t._v("â‘¡å¦‚æœæ˜¯ä¸€ä¸ªä½é¢‘SQLï¼Œé‚£ä¹ˆå»ºç«‹ç´¢å¼•æ¯”è¾ƒæµªè´¹ã€‚å¯ä»¥è€ƒè™‘ä½¿ç”¨"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("ä¸´æ—¶è¡¨ï¼Œåœ¨ä¸´æ—¶è¡¨ä¸Šå»ºç«‹ç´¢å¼•")])]),t._v("ï¼š")],1),t._v(" "),s("ol",[s("li",[s("p",[t._v("é¦–å…ˆå°†è¡¨t2æ»¡è¶³whereç­›é€‰æ¡ä»¶çš„æ•°æ®æ”¾åœ¨ä¸´æ—¶è¡¨tmp_tå½“ä¸­ï¼Œæ‰«æè¡Œæ•°ä¸º100ä¸‡")])]),t._v(" "),s("li",[s("p",[t._v("ç„¶å"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("ç»™ä¸´æ—¶è¡¨tmp_tä¸Šçš„bå­—æ®µå»ºç«‹ç´¢å¼•")])])],1)]),t._v(" "),s("li",[s("p",[s("strong",[t._v("t1è¡¨ä¸ä¸´æ—¶è¡¨tmp_tåšjoinæ“ä½œ")]),t._v("ï¼Œæ‰«æè¡Œæ•°ä¸ºt1 1000æ¬¡+ä¸´æ—¶è¡¨tmp_tæ»¡è¶³æ¡ä»¶è®°å½•æ•°ã€‚æ¯”è¾ƒæ¬¡æ•°ä¸Šå› ä¸ºä¸´æ—¶è¡¨å«æœ‰ç´¢å¼•æ‰€ä»¥ä¼šå¾ˆå¿«ã€‚")]),t._v(" "),s("p",[t._v("ä¸´æ—¶è¡¨æ–¹æ¡ˆå¯¹åº”çš„SQLè¯­å¥ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("temporary")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" temp_t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("primary")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("engine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("innodb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" temp_t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" temp_t "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("temp_t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])])]),t._v(" "),s("h3",{attrs:{id:"_4-å“ˆå¸Œjoin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-å“ˆå¸Œjoin"}},[t._v("#")]),t._v(" 4.å“ˆå¸Œjoin")]),t._v(" "),s("p",[t._v("åˆ†å—BNLç®—æ³•è¦æ¯”è¾ƒåäº¿æ¬¡ï¼ŒåŸå› åœ¨äº"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ä¸­çš„è¡Œè®°å½•æ˜¯æ— åºçš„ï¼Œæ¯è¡Œè®°å½•éƒ½è¦ä¸"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("é‡Œt1è¡¨æ‰€æœ‰çš„æ•°æ®ä¸€ä¸€æ¯”è¾ƒã€‚è€Œå¦‚æœt1è¡¨æ•°æ®ä¸æ˜¯ä¸€ä¸ªæ— åºæ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ª"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("å“ˆå¸Œè¡¨")])]),t._v("ï¼Œé‚£ä¹ˆåªéœ€è¦100ä¸‡æ¬¡(t2è¡¨å¤§å°)å“ˆå¸ŒæŸ¥æ‰¾ã€‚")],1),t._v(" "),s("p",[t._v("å› ä¸ºMySQLä¸æ”¯æŒå“ˆå¸Œjoinï¼Œå› æ­¤å¯ä»¥åœ¨"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("ä¸šåŠ¡ç«¯")])]),t._v("å®ç°ï¼š")],1),t._v(" "),s("ol",[s("li",[t._v("æ‰§è¡Œselect * from t1æ‹¿åˆ°t1è¡¨æ‰€æœ‰1000è¡Œæ•°æ®ï¼Œå¹¶åœ¨ä¸šåŠ¡ç«¯æ”¾å…¥ä¸€ä¸ª"),s("strong",[t._v("å“ˆå¸Œç»“æ„")])]),t._v(" "),s("li",[t._v("æ‰§è¡Œselect * from t2 where b>=1 and b<=2000æ‹¿åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°æ®ã€‚è¿™é‡Œæ‰«æè¡Œæ•°100ä¸‡è¡Œ")]),t._v(" "),s("li",[t._v("åœ¨ä¸šåŠ¡ç«¯æŠŠ2000è¡Œæ•°æ®ä¸€è¡Œä¸€è¡Œå–å‡ºæ¥ï¼Œæ‹¿åˆ°t1å“ˆå¸Œè¡¨ä¸­è¿›è¡Œæ¯”å¯¹ã€‚æ€»å…±è¿›è¡Œ2000æ¬¡å“ˆå¸ŒæŸ¥æ‰¾")])]),t._v(" "),s("p",[t._v("ç†è®ºä¸Šæ•ˆæœè¦æ¯”ä¸´æ—¶è¡¨æ–¹æ¡ˆå¥½ã€‚å› ä¸ºåŸºäºå“ˆå¸Œçš„æ¯”è¾ƒè¦å¿«äºåŸºäºç´¢å¼•æ¯”è¾ƒã€‚")]),t._v(" "),s("h3",{attrs:{id:"_5-ä¸‰è¡¨joinä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-ä¸‰è¡¨joinä¼˜åŒ–"}},[t._v("#")]),t._v(" 5.ä¸‰è¡¨joinä¼˜åŒ–")]),t._v(" "),s("p",[t._v("å¯¹äºå¤šè¡¨çš„joinè¯­å¥ï¼Œ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("é©±åŠ¨è¡¨åªæœ‰ä¸€ä¸ªï¼Œè¢«é©±åŠ¨è¡¨ä¼šæœ‰å¤šä¸ª")])]),t._v("ã€‚æ‰§è¡Œè¿‡ç¨‹ä¼š"),s("strong",[t._v("åµŒå¥—è¿›è¡Œ")]),t._v("â“é‡‡ç”¨BKAè¿›è¡Œä¼˜åŒ–æ—¶ï¼Œæ¯å¤šä¸€ä¸ªjoinï¼Œå°±ä¼šå¤šä¸€ä¸ª"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ã€‚å‡è®¾æŒ‰ç…§t1>t2>t3è¿æ¥é¡ºåºï¼Œå…·ä½“å¦‚ä¸‹ï¼š")],1),t._v(" "),s("ol",[s("li",[t._v("é¦–å…ˆt1è¡¨ã€t2è¡¨å–å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è¡Œæ•°æ®æ”¾å…¥åˆ°join_buffer1å’Œjoin_buffer2å½“ä¸­")]),t._v(" "),s("li",[t._v("ä»join_buffer1å½“ä¸­å–å‡ºä¸€è¡Œæ•°æ®ï¼Œä¸t2è¡¨è¿›è¡Œæ¯”è¾ƒåˆ¤æ–­ã€‚")]),t._v(" "),s("li",[t._v("ä»join_buffer2ä¸­å–å‡ºä¸Šä¸€æ­¥æ»¡è¶³è¦æ±‚çš„t2è¡Œæ•°æ®ï¼Œä¸t3è¡¨è¿›è¡Œæ¯”è¾ƒåˆ¤æ–­ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæŠŠä¸Šè¿°æ»¡è¶³æ¡ä»¶çš„è®°å½•æ‹¼æ¥èµ·æ¥ä½œä¸ºç»“æœé›†ã€‚")]),t._v(" "),s("li",[t._v("æ­¤æ—¶t1ç›¸å½“äºæ‰§è¡Œå®Œäº†ä¸€æ¡è¡Œæ•°æ®ï¼Œé‡å¤æ‰§è¡Œæ­¥éª¤2ï¼Œ3ï¼Œ4ç›´åˆ°æ‰€æœ‰t1è¡Œæ•°æ®æ¯”è¾ƒå®Œã€‚")])]),t._v(" "),s("p",[t._v("å‡è®¾ä¸‰ä¸ªè¡¨çš„ç»“æ„ç›¸åŒï¼Œåˆ†åˆ«åªå»ºç«‹äº†idä¸»é”®ï¼Œè¯•åˆ†æä»¥ä¸‹SQLè¯­å¥å¦‚ä½•ä¼˜åŒ–æ›´é«˜æ•ˆï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" t2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" t3 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("t3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v("X "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v("Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" t3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v("Z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ä¼˜åŒ–æ—¶é¦–å…ˆéœ€è¦å°½å¯èƒ½"),s("strong",[t._v("ä½¿ç”¨BKAç®—æ³•")]),t._v("ï¼Œç„¶å"),s("strong",[t._v("ä½¿ç”¨å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨")]),t._v("ã€‚å…ˆç¡®å®šå°è¡¨å†ç¡®å®šç´¢å¼•ï¼Œå°è¡¨éœ€è¦æ ¹æ®Xã€Yã€Zæ»¡è¶³æ¡ä»¶çš„è¡Œæ•°åˆ¤æ–­ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœt3è¡¨ä¸ºå°è¡¨ï¼Œåˆ™è¿æ¥é¡ºåºt3>t2>t1ï¼Œåœ¨t2.bå’Œt1.aå»ºç«‹ç´¢å¼•ã€‚åŒæ—¶éœ€è¦åœ¨æ¯ä¸ªè¡¨cå­—æ®µåŠ ç´¢å¼•ï¼Œç›®çš„æ˜¯ä¸ºäº†å¿«é€Ÿé€šè¿‡whereæ¡ä»¶ç­›é€‰æ‹¿åˆ°å®é™…å‚ä¸joinçš„è¡Œè®°å½•ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœt1è¡¨ä¸ºå°è¡¨ï¼Œåˆ™è¿æ¥é¡ºåºt1>t2>t3ï¼Œåœ¨t2.aå’Œt3.bå»ºç«‹ç´¢å¼•ã€‚åŒæ—¶éœ€è¦åœ¨æ¯ä¸ªè¡¨cå­—æ®µåŠ ç´¢å¼•ï¼Œç›®çš„æ˜¯ä¸ºäº†å¿«é€Ÿé€šè¿‡whereæ¡ä»¶ç­›é€‰æ‹¿åˆ°å®é™…å‚ä¸joinçš„è¡Œè®°å½•ã€‚")]),t._v(" "),s("li",[t._v("è€Œå¦‚æœæ˜¯t2è¡¨ä¸ºå°è¡¨ ï¼Œåˆ™éœ€è¦è¿›ä¸€æ­¥è¯„ä¼°å¦å¤–ä¸¤ä¸ªæ¡ä»¶çš„è¿‡æ»¤æ•ˆæœã€‚")])]),t._v(" "),s("h2",{attrs:{id:"joinè¯­å¥å†™æ³•-left-joinä¸on-whereé€‰æ‹©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#joinè¯­å¥å†™æ³•-left-joinä¸on-whereé€‰æ‹©"}},[t._v("#")]),t._v(" joinè¯­å¥å†™æ³•(left joinä¸on,whereé€‰æ‹©)")]),t._v(" "),s("p",[t._v("å®éªŒåœºæ™¯ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" f2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("engine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("innodb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" f2 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("engine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("innodb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("ğŸ’¡åŸåˆ™ï¼š"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("NULLä¸ä»»ä½•å€¼æ‰§è¡Œç­‰å€¼åˆ¤æ–­å’Œä¸ç­‰å€¼åˆ¤æ–­çš„ç»“æœï¼Œéƒ½æ˜¯NULL")])]),t._v("ã€‚")],1),t._v(" "),s("p",[t._v("ğŸ’¡left joinè¯­ä¹‰ï¼šå·¦è¡¨åŒ¹é…çš„è¡Œè®°å½•ä¹ŸåŠ å…¥åˆ°ç»“æœé›†ä»¥å¤–ï¼ŒæœªåŒ¹é…çš„è¡Œè®°å½•ä¹Ÿéœ€è¦åŠ å…¥åˆ°ç»“æœé›†(æ­¤æ—¶å³è¡¨å­—æ®µç”¨NULLè¡¥å……)ã€‚")]),t._v(" "),s("p",[t._v("ğŸ’¡explainåExtraå­—æ®µæ²¡æœ‰æ˜¾ç¤ºä½¿ç”¨å“ªç§joinç®—æ³•ï¼Œåˆ™é»˜è®¤è¡¨ç¤º"),s("strong",[t._v("å½“å‰ä½¿ç”¨çš„æ˜¯NLJç´¢å¼•ç®—æ³•")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("åˆ†æå¦‚ä¸‹å››æ¡æ¡SQLè¯­å¥ï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*Q1*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*Q2*/")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*Q3*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*Q4*/")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"q1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#q1"}},[t._v("#")]),t._v(" Q1")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230712/image.1j77tg1pi50g.png",alt:""}})]),t._v(" "),s("p",[t._v("æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("aä¸ºé©±åŠ¨è¡¨ï¼Œbä¸ºè¢«é©±åŠ¨è¡¨ã€‚æ˜¾ç„¶å› ä¸ºbè¡¨çš„å­—æ®µéƒ½ä¸å­˜åœ¨ç´¢å¼•ï¼Œæ‰€ä»¥ç›´æ¥èµ°åˆ†å—BNLç®—æ³•ã€‚")]),t._v(" "),s("li",[t._v("é¦–å…ˆå°†aè¡¨çš„æ‰€æœ‰æ•°æ®éƒ½æ”¾å…¥åˆ°"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])])],1),t._v(" "),s("li",[t._v("ç„¶åæ‹¿å‡ºbè¡¨çš„æ¯ä¸€è¡Œè®°å½•ä¸"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ä¸­çš„æ¯ä¸€è¡Œè®°å½•è¿›è¡Œæ¯”è¾ƒï¼ŒåŒ¹é…åˆ™åŠ å…¥åˆ°ç»“æœé›†ä¸­")],1),t._v(" "),s("li",[t._v("æœ€å"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("join_buffer")])]),t._v("ä¸­è¿˜å‰©ä¸‹ä¸¤æ¡è®°å½•(1ï¼Œ1)å’Œ(2ï¼Œ2)æ²¡æœ‰è¢«åŒ¹é…ï¼Œæ ¹æ®left joinè¯­ä¹‰ä¹Ÿä¸€å¹¶åŠ å…¥ç»“æœé›†ã€‚Bè¡¨å­—æ®µä½¿ç”¨NULLå¡«å……ã€‚å¾—åˆ°çš„ç»“æœé›†æœ‰6æ¡ã€‚")],1)]),t._v(" "),s("h3",{attrs:{id:"q2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#q2"}},[t._v("#")]),t._v(" Q2")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230712/image.4qccru6w1gu0.webp",alt:""}})]),t._v(" "),s("p",[t._v("è§‚å¯ŸExtraå­—æ®µå¯ä»¥å¾—å‡º"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æ•´ä¸ªjoinè¯­å¥ä½¿ç”¨NLJç®—æ³•")])]),t._v("ï¼Œæ²¡æœ‰ä½¿ç”¨ä¸Šjoin_bufferï¼Œå¹¶ä¸”açš„f1ç´¢å¼•å­—æ®µè¢«ä½¿ç”¨ä¸Šäº†ã€‚æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š")],1),t._v(" "),s("ol",[s("li",[t._v("NLJç®—æ³•ä¸­aè¡¨çš„ç´¢å¼•è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆæ˜¾ç„¶bè¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œè€Œaè¡¨æ˜¯è¢«é©±åŠ¨è¡¨ã€‚")]),t._v(" "),s("li",[t._v("æ¯æ¬¡ä»bè¡¨ä¸­å–å‡ºä¸€æ¡æ•°æ®ï¼Œé¦–å…ˆå…ˆç”¨b.f1å­—æ®µå»æŸ¥ï¼Œ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("å¦‚æœåŒ¹é…ï¼Œé‚£ä¹ˆå†åˆ¤æ–­è¯¥æ¡è®°å½•çš„f2æ˜¯å¦ç­‰äºb.f2")])]),t._v("ã€‚å¦‚æœéƒ½æ»¡è¶³åˆ™ä½œä¸ºç»“æœé›†ä¸€éƒ¨åˆ†è¿”å›ã€‚\n"),s("ul",[s("li",[t._v("æ ¹æ®ä¸Šé¢æåˆ°çš„è§„åˆ™ï¼Œå‡è®¾å…ˆä¸è€ƒè™‘whereæ¡ä»¶ï¼Œä»…ä»…åªæ˜¯onç­›é€‰åï¼Œé‚£ä¹ˆå¾—åˆ°çš„æ‰€æœ‰æœªåŒ¹é…çš„aè¡¨è®°å½•ä¸Šçš„bè¡¨å­—æ®µéƒ½æ˜¯NULLï¼›æ¥ç€"),s("strong",[t._v("whereç­›é€‰æ—¶ï¼Œb.f2çš„nullå­—æ®µä¸a.f2éç©ºå­—æ®µæ¯”è¾ƒè‚¯å®šä¸èƒ½é€šè¿‡ç­›é€‰")]),t._v("ã€‚æ‰€ä»¥"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æ•´ä¸ªè¯­å¥è™½ç„¶ç”¨äº†left joinï¼Œä½†å› ä¸ºå­˜åœ¨whereç­›é€‰è§„åˆ™é™åˆ¶ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•æœ€ç»ˆéƒ½ä¸å¯èƒ½å‡ºç°aè¡¨æœªåŒ¹é…+bè¡¨å­—æ®µnullè¡¥é½çš„è¡Œè®°å½•")])]),t._v("ã€‚")],1),t._v(" "),s("li",[s("strong",[t._v("ä¹Ÿå°±æ˜¯è¯´left joinçš„è¯­ä¹‰å¤±æ•ˆï¼Œæ•´ä¸ªè¯­å¥æ”¹å†™é€€åŒ–ä¸ºjoin")]),t._v("ã€‚è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ä¸ŠNLJç®—æ³•äº†ã€‚")])])],1),t._v(" "),s("li",[t._v("é‡å¤æ­¥éª¤2ï¼ŒçŸ¥é“bè¡¨æ‰€æœ‰è¡Œè®°å½•éƒ½ç­›é€‰è¿‡ã€‚æœ€åå¾—åˆ°çš„ç»“æœé›†æœ‰4æ¡ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"q3-q4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#q3-q4"}},[t._v("#")]),t._v(" Q3&Q4")]),t._v(" "),s("p",[t._v("show warningsç»è¿‡ä¼˜åŒ–å™¨ä¼˜åŒ–åï¼Œä¸¤æ¡è¯­å¥éƒ½è¢«æ”¹å†™ä¸ºï¼š")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[t._v("â‘ å¦‚æœä½¿ç”¨left joinï¼Œé‚£ä¹ˆå½“"),s("strong",[t._v("å‰å·¦è¾¹çš„è¡¨ä¸ä¸€å®šæ˜¯é©±åŠ¨è¡¨")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("â‘¡å¦‚æœéœ€è¦join leftçš„è¯­ä¹‰ï¼Œé‚£ä¹ˆ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("å³è¡¨çš„å­—æ®µä¸èƒ½æ”¾å…¥åˆ°whereä¸­è¿›è¡Œç­‰å€¼åˆ¤æ–­æˆ–ä¸ç­‰å€¼åˆ¤æ–­")])]),t._v("ï¼Œå¿…é¡»å…¨éƒ¨å†™åœ¨onå½“ä¸­ã€‚å¦åˆ™ä¼šé€€åŒ–ä¸ºæ™®é€šjoinã€‚")],1),t._v(" "),s("p",[t._v("â‘¢å¦‚æœä¸éœ€è¦left joinçš„è¯­ä¹‰ï¼Œé‚£ä¹ˆä½¿ç”¨joinè¿æ¥çš„è¿‡æ»¤æŸ¥è¯¢æ¡ä»¶å†™åœ¨onå’Œwhereæ²¡æœ‰åŒºåˆ«ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«ä¼˜åŒ–åˆ°whereæ¡ä»¶ä¸Šã€‚")]),t._v(" "),s("h2",{attrs:{id:"simple-nljç®—æ³•æ€§èƒ½é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#simple-nljç®—æ³•æ€§èƒ½é—®é¢˜"}},[t._v("#")]),t._v(" Simple NLJç®—æ³•æ€§èƒ½é—®é¢˜")]),t._v(" "),s("p",[s("strong",[t._v("Simple NLJï¼šæŒ‡çš„æ˜¯NLJç®—æ³•è¢«é©±åŠ¨è¡¨æ²¡ç”¨ä¸Šç´¢å¼•ï¼Œéœ€è¦å…¨è¡¨æ‰«æçš„ä¸€ç§æƒ…å†µ")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("Simple NLJç®—æ³•çš„è¢«é©±åŠ¨æ˜¯åœ¨ç£ç›˜å½“ä¸­ï¼Œæ¯è¡Œé©±åŠ¨è¡¨çš„è¡Œè®°å½•éƒ½ä¼šä¸æ•´ä¸ªç£ç›˜è¡¨(â€œè¢«æ¯”è¾ƒè¡¨â€)è¿›è¡Œå…¨è¡¨æ‰«æåŒ¹é…ã€‚")]),t._v(" "),s("p",[t._v("BNLç®—æ³•çš„â€œè¢«æ¯”è¾ƒè¡¨â€æ”¾åœ¨join_bufferï¼Œæ¯è¡Œè¢«é©±åŠ¨è¡¨è¡Œè®°å½•éƒ½ä¼šä¸join_bufferè¿›è¡Œå…¨æ‰«æåŒ¹é…ã€‚")]),t._v(" "),s("p",[t._v("å¾ˆæ˜¾æ€§èƒ½ä¸ŠBNLä¼šæ›´å¥½äºSimple NLJç®—æ³•ï¼Œä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥çœ‹ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("æ¯”è¾ƒæ—¶ï¼Œè¢«æ¯”è¾ƒè¡¨çš„ç£ç›˜IOå¼€é”€ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("BNLçš„â€œè¢«æ¯”è¾ƒè¡¨â€ç¨³å®šå°±åœ¨å†…å­˜join_bufferä¸­")]),t._v("ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("Simple NLJå¦‚æœé©±åŠ¨è¡¨ç¬¬kæ¡è®°å½•æ¯”è¾ƒæ—¶ï¼Œbuffer pooiä¸Šçš„â€œè¢«æ¯”è¾ƒè¡¨â€çš„æ•°æ®é¡µæ°å·§è¢«æ·˜æ±°äº†ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡æ–°ç­‰å¾…ä¸€æ¬¡ç£ç›˜IOï¼Œå¼€é”€æ›´å¤§ã€‚")]),t._v(" "),s("p",[t._v("å¦å¤–"),s("strong",[t._v("SNLJç®—æ³•è¢«æ¯”è¾ƒè¡¨å¤©ç„¶ä¼šè¢«å¤šæ¬¡è®¿é—®æ¯”è¾ƒ")]),t._v("ï¼Œç§»åˆ°youngåŒºçš„headåè¿˜ä¼šå½±å“æ­£å¸¸é¡µé¢çš„æ•°æ®é¡µå‘½ä¸­ç‡ã€‚")])])])]),t._v(" "),s("li",[s("p",[t._v("â€œæŸ¥æ‰¾ä¸‹ä¸€æ¡è®°å½•â€æ“ä½œæˆæœ¬ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("BNLåœ¨join_bufferæ•°ç»„ä¸Šè¿›è¡Œéå†ï¼Œæˆæœ¬æ›´ä½ã€‚")]),t._v(" "),s("li",[t._v("SNLJå†…å­˜æ•°æ®é¡µé€šè¿‡ç±»ä¼¼äºæŒ‡é’ˆæ“ä½œï¼Œæˆæœ¬æ›´é«˜ã€‚")])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);