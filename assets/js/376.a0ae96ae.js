(window.webpackJsonp=window.webpackJsonp||[]).push([[376],{694:function(s,t,a){"use strict";a.r(t);var r=a(4),e=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sqlè¯­å¥æ€§èƒ½å·®å¼‚åˆ†æž"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sqlè¯­å¥æ€§èƒ½å·®å¼‚åˆ†æž"}},[s._v("#")]),s._v(" SQLè¯­å¥æ€§èƒ½å·®å¼‚åˆ†æž")]),s._v(" "),t("h2",{attrs:{id:"æ¡ˆä¾‹ä¸€ã€æ¡ä»¶å­—æ®µçš„å‡½æ•°æ“ä½œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹ä¸€ã€æ¡ä»¶å­—æ®µçš„å‡½æ•°æ“ä½œ"}},[s._v("#")]),s._v(" æ¡ˆä¾‹ä¸€ã€æ¡ä»¶å­—æ®µçš„å‡½æ•°æ“ä½œ")]),s._v(" "),t("p",[t("font",{attrs:{color:"red"}},[t("strong",[s._v("SQLæŸ¥è¯¢è¯­å¥ä¸­ï¼Œå¦‚æžœåœ¨whereæ¡ä»¶é™åˆ¶å­—æ®µæ—¶ä½¿ç”¨äº†å‡½æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¯¼è‡´è¯¥å­—æ®µçš„ç´¢å¼•å¤±æ•ˆï¼Œä½¿ç”¨ä¸ä¸ŠB+æ ‘çš„å¿«é€Ÿå®šä½åŠŸèƒ½")])]),s._v("ã€‚")],1),s._v(" "),t("p",[s._v("éœ€æ±‚&åœºæ™¯ï¼šç»Ÿè®¡æ‰€æœ‰è®°å½•ä¸­ä¸ƒæœˆçš„äº¤æ˜“è®°å½•æ€»æ•°ã€‚å…¶ä¸­t_modifiedä¸ºdatetimeç±»åž‹ï¼Œå¹¶ä¸”æ·»åŠ äº†ç´¢å¼•ã€‚")]),s._v(" "),t("p",[s._v("æŸ¥è¯¢æ–¹å¼â‘ ")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tradelog "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t_modified"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æŸ¥è¯¢æ–¹å¼â‘¡")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tradelog "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t_modified "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2016-7-1'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" t_modified"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2016-8-1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t_modified "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2017-7-1'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" t_modified"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2017-8-1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t_modified "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-7-1'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" t_modified"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-8-1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("å¯¹äºŽæ–¹å¼ä¸€ï¼Œå› ä¸ºæ²¡æœ‰ç»™å‡ºé™å®šå¹´ä»½ï¼Œ"),t("strong",[s._v("æœç´¢æ—¶ä¸èƒ½èµ°B+æ ‘çš„å¿«é€Ÿå®šä½")]),s._v("ã€‚"),t("strong",[s._v("ä½†å¹¶ä¸ä»£è¡¨ä¸èµ°è¿™ä¸ªç´¢å¼•")]),s._v("ï¼Œå¯¹æ¯”å‘çŽ°ç´¢å¼•t_modifiedå¶å­èŠ‚ç‚¹æ•°æ®æ¯”ä¸»é”®ç´¢å¼•å¶å­èŠ‚ç‚¹æ•°æ®æ›´å°ï¼Œæ‰€ä»¥æœ€åŽè¿˜æ˜¯èµ°çš„"),t("strong",[s._v("å…¨ç´¢å¼•æ‰«æ")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("å¯¹äºŽæ–¹å¼äºŒï¼Œå°†å‡½æ•°æ“ä½œæ”¹ä¸ºèŒƒå›´æŸ¥è¯¢ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨åˆ°B+æ ‘çš„å¿«é€Ÿå®šä½åŠŸèƒ½ã€‚")]),s._v(" "),t("p",[s._v("å¦å¤–ä¼˜åŒ–å™¨åœ¨åˆ¤æ–­è§£æžwhereå­—æ®µæ—¶ï¼Œå¯¹äºŽè¡¨è¾¾å¼è€Œè¨€"),t("strong",[s._v("ç­‰å·å·¦è¾¹åªå«æœ‰ç´¢å¼•å­—æ®µæ‰èƒ½ä½¿ç”¨åˆ°ç´¢å¼•")]),s._v("ã€‚å…·ä½“æ¥è¯´ where id+1=10000å’Œwhere id=10000-1åªæœ‰åŽè€…ä¼šä½¿ç”¨åˆ°ç´¢å¼•ã€‚("),t("strong",[s._v("å­—æ®µå‡ºçŽ°ç­‰å·å·¦è¾¹ä¸Žå³è¾¹æ²¡æœ‰å½±å“ï¼Œa=bå’Œb=aç­‰ä»·")]),s._v(")")]),s._v(" "),t("h2",{attrs:{id:"æ¡ˆä¾‹äºŒã€éšå¼ç±»åž‹è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹äºŒã€éšå¼ç±»åž‹è½¬æ¢"}},[s._v("#")]),s._v(" æ¡ˆä¾‹äºŒã€éšå¼ç±»åž‹è½¬æ¢")]),s._v(" "),t("p",[t("font",{attrs:{color:"red"}},[t("strong",[s._v("SQLæ•°æ®ç±»åž‹éšå¼è½¬æ¢è§„åˆ™ï¼šåœ¨è¡¨è¾¾å¼ä¸­ä¼šè‡ªåŠ¨å°†å­—ç¬¦ä¸²ç±»åž‹è½¬åŒ–æˆæ•°å­—ï¼Œå†è¿›è¡Œåˆ¤æ–­å’Œæ¯”è¾ƒ")])]),s._v("ã€‚")],1),s._v(" "),t("p",[s._v("éœ€æ±‚&åœºæ™¯ï¼štradeidå­—æ®µä¸ºvarchar(32)ç±»åž‹ï¼Œå­˜åœ¨ç´¢å¼•ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tradelog "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" tradeid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110717")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è¿™æ¡è¯­å¥åœ¨æŸ¥è¯¢æ—¶ç›¸å½“äºŽç»™tradeidå­—æ®µæ·»åŠ ä¸€ä¸ªâ€è½¬æ¢å‡½æ•°â€œï¼Œä»Žè€Œ"),t("strong",[s._v("ä½¿tradeidçš„ç´¢å¼•B+æ ‘å¤±æ•ˆ")]),s._v("ï¼Œä¸èƒ½å¿«é€Ÿå®šä½ã€‚")]),s._v(" "),t("h2",{attrs:{id:"æ¡ˆä¾‹ä¸‰ã€éšå¼å­—ç¬¦ç¼–ç è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹ä¸‰ã€éšå¼å­—ç¬¦ç¼–ç è½¬æ¢"}},[s._v("#")]),s._v(" æ¡ˆä¾‹ä¸‰ã€éšå¼å­—ç¬¦ç¼–ç è½¬æ¢")]),s._v(" "),t("p",[t("font",{attrs:{color:"red"}},[t("strong",[s._v("SQLå­—ç¬¦ç¼–ç éšå¼è½¬æ¢è§„åˆ™ï¼šåœ¨è”è¡¨æŸ¥è¯¢æ—¶ï¼Œä¸åŒè¡¨ä¹‹é—´å­—æ®µçš„è¡¨è¾¾å¼è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œä¼šå°†ç¼–ç æ ¼å¼ä¸ºutf8çš„å­—æ®µå€¼è½¬æ¢æˆutf8mb4ç¼–ç æ ¼å¼ã€‚å› ä¸ºutf8mb4æ—¶utf8çš„è¶…é›†")])]),s._v("ã€‚")],1),s._v(" "),t("p",[s._v("éœ€æ±‚&åœºæ™¯ï¼šdè¡¨ä¸­ç¼–ç æ ¼å¼ä¸ºutf8ï¼Œè€Œlè¡¨ç¼–ç æ ¼å¼ä¸ºutf8mb4ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" l"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tradeid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("l"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tradeid "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" l"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ‹¿åˆ°lè¡¨çš„å­—æ®µå€¼åœ¨dè¡¨åŒ¹é…æŸ¥è¯¢æ—¶ï¼Œ"),t("strong",[s._v("dè¡¨çš„tradeidå­—æ®µç´¢å¼•æ ‘éœ€è¦è½¬åŒ–ä¸ºutf8mb4æ ¼å¼ï¼Œå› æ­¤ç´¢å¼•å¤±æ•ˆ")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å°†dè¡¨çš„å­—æ®µå­—ç¬¦é›†ä¹Ÿæ”¹æˆutf8mb4")]),s._v(" "),t("li",[s._v("åœ¨SQLè¯­å¥ç›´æŽ¥ä¿®æ”¹d.tradeidçš„å­—ç¬¦é›†ç¼–ç æ ¼å¼")])]),s._v(" "),t("h2",{attrs:{id:"æ¡ˆä¾‹å››ã€innodbå¼•æ“Žé¢„å¤„ç†ä¸Žserverå±‚åŽå¤„ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹å››ã€innodbå¼•æ“Žé¢„å¤„ç†ä¸Žserverå±‚åŽå¤„ç†"}},[s._v("#")]),s._v(" æ¡ˆä¾‹å››ã€InnoDBå¼•æ“Žé¢„å¤„ç†ä¸Žserverå±‚åŽå¤„ç†")]),s._v(" "),t("p",[s._v("éœ€æ±‚&åœºæ™¯ï¼šbå­—æ®µåœ¨InnoDBå¼•æ“Žå®šä¹‰äº†é•¿åº¦ä¸ºVARCHAR(10)ï¼Œæ•°æ®åº“ä¸­å­˜åœ¨åä¸‡æ¡b='1234567890'çš„æ•°æ®ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1234567890abcd'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è¿™æ¡æŸ¥è¯¢è¯­å¥è™½ç„¶è¿”å›žç©ºï¼Œä½†æ˜¯æ‰§è¡Œè¿‡ç¨‹æ¯”è¾ƒæ…¢ï¼š")]),s._v(" "),t("ul",[t("li",[t("font",{staticStyle:{background:"rgb(255, 100, 38)"}},[t("strong",[s._v("innoDbå¼•æ“Ž")])]),s._v("æ‰§è¡Œè¯­å¥å‰ï¼Œå› ä¸ºbå­—æ®µåªå®šä¹‰äº†åä¸ªå­—èŠ‚ï¼Œä¼šè¿›è¡Œ"),t("strong",[s._v("å­—ç¬¦æˆªæ–­")]),s._v("ï¼Œåªä¼šæ‹¿â€˜1234567890â€™åˆ°ç´¢å¼•æ ‘ä¸­è¿›è¡Œè¡Œè®°å½•åŒ¹é…ã€‚")],1),s._v(" "),t("li",[s._v("bç´¢å¼•æ ‘æ‹¿åˆ°idåŽï¼Œæ€»å…±ä¼šè¿›è¡Œåä¸‡æ¬¡å›žè¡¨ã€‚")]),s._v(" "),t("li",[s._v("æ¯æ¬¡å›žè¡¨æŸ¥å‡ºæ•´è¡Œè®°å½•åŽï¼Œä¼šåˆ°=="),t("strong",[s._v("serverå±‚")]),s._v("==è¿›è¡Œ"),t("strong",[s._v("ä¸€è‡´æ€§åˆ¤æ–­")]),s._v("ï¼Œå‘çŽ°b='1234567890'ä¸ç­‰äºŽ'1234567890abcd'")]),s._v(" "),t("li",[s._v("è¿”å›žç»“æžœéƒ½ä¸ºç©º")])]),s._v(" "),t("h2",{attrs:{id:"æ¡ˆä¾‹äº”ã€select-from-t-where-id-1æ‰§è¡Œæ…¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹äº”ã€select-from-t-where-id-1æ‰§è¡Œæ…¢"}},[s._v("#")]),s._v(" æ¡ˆä¾‹äº”ã€select * from t where id=1æ‰§è¡Œæ…¢")]),s._v(" "),t("p",[s._v("æ‰§è¡Œä»¥ä¸‹å•è¡ŒæŸ¥è¯¢è¯­å¥å‘çŽ°é€Ÿåº¦æ…¢ï¼Œå…¶ä¸­idä¸ºä¸»é”®å­—æ®µã€‚")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("select "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" from t where id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å¯èƒ½çš„åŽŸå› ã€æŽ’æŸ¥è¿‡ç¨‹ã€è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š")]),s._v(" "),t("h3",{attrs:{id:"_1-ç­‰å¾…mdlè¡¨é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç­‰å¾…mdlè¡¨é”"}},[s._v("#")]),s._v(" 1.ç­‰å¾…MDLè¡¨é”")]),s._v(" "),t("p",[s._v("åœ¨ä¼šè¯Aä¸­å› ä¸ºæ‰§è¡Œäº†DDLè¯­å¥ï¼Œæ‹¿åˆ°"),t("strong",[s._v("MDLå†™é”")]),s._v("ï¼Œ"),t("strong",[s._v("åªè¦ä¼šè¯Aä¸æäº¤äº‹åŠ¡é‚£ä¹ˆMDLé”å°±ä¸ä¼šé‡Šæ”¾")]),s._v("ï¼Œä»Žè€Œå¯¼è‡´ä¼šè¯Bä¸­çš„SQLè¯­å¥è¢«"),t("strong",[s._v("é˜»å¡ž")]),s._v("ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230629/image.71akk69bctc0.webp",alt:""}})]),s._v(" "),t("p",[s._v("ðŸ’¡"),t("strong",[s._v("è§£å†³æ–¹æ¡ˆ")]),s._v("ï¼šæ‰¾åˆ°å…·ä½“æ˜¯å“ªä¸€ä¸ªçº¿ç¨‹æŒæœ‰MDLå†™é”ï¼Œç„¶åŽkillæŽ‰ã€‚å…·ä½“æ¥è¯´å¯ä»¥æ‰§è¡Œä»¥ä¸‹SQLè¯­å¥æŸ¥åˆ°å¯¹åº”çš„çº¿ç¨‹ï¼Œå…¶ä¸­"),t("font",{attrs:{color:"red"}},[t("strong",[s._v("è¡¨sys.schema_table_lock_waitsæ˜¯MySQLå¼€æœºè‡ªåŠ¨é…ç½®ç»´æŠ¤çš„ä¸€å¼ ç³»ç»Ÿè¡¨")])]),s._v("ã€‚")],1),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" blocking_pid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" sys"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema_table_lock_waits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-ç­‰å¾…flushè¡¨é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç­‰å¾…flushè¡¨é”"}},[s._v("#")]),s._v(" 2.ç­‰å¾…flushè¡¨é”")]),s._v(" "),t("p",[t("font",{attrs:{color:"red"}},[t("strong",[s._v("flushæ“ä½œï¼šé¦–å…ˆéœ€è¦ç­‰å¾…è¡¨ä¸Šçš„æ‰€æœ‰æ“ä½œæ‰§è¡Œå®Œæˆï¼Œç„¶åŽâ€œå…³é—­â€è¡¨ï¼Œæœ€åŽæ‰§è¡Œflush")])]),s._v("ã€‚æ˜¾ç„¶flushæ“ä½œå¯ä»¥"),t("strong",[s._v("è¢«å‰é¢çš„çº¿ç¨‹é˜»å¡ž")]),s._v("ï¼Œå¹¶ä¸”ä¹Ÿ"),t("strong",[s._v("ä¼šå µä½é˜»å¡ž")]),s._v("å…¶å®ƒåŽé¢çš„çº¿ç¨‹ã€‚")],1),s._v(" "),t("p",[s._v("æ˜¾ç„¶åœ¨ä¸‹é¢åœºæ™¯ä¸­ï¼ŒsessionAå› ä¸ºä¸€ç›´å¯¹è¡¨tæ“ä½œï¼Œ"),t("strong",[s._v("å¯¼è‡´sessionBè¦ä¸€ç›´ç­‰å¾…sessionAçš„æŸ¥è¯¢ç»“æŸ")]),s._v("ã€‚è¿™æ ·sessionCä¸­çš„æŸ¥è¯¢è¯­å¥å°±ä¼šè¢«flushæ“ä½œé˜»å¡žä½äº†ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230629/image.4zfy04nvmfw0.webp",alt:""}})]),s._v(" "),t("p",[s._v("ðŸ’¡"),t("strong",[s._v("æŽ’æŸ¥æ–¹æ¡ˆ")]),s._v("ï¼š"),t("font",{attrs:{color:"red"}},[t("strong",[s._v("ä»Žç³»ç»Ÿçš„processlistè¡¨ä¸­æŸ¥è¯¢æŸä¸ªçº¿ç¨‹çŠ¶æ€")])]),s._v("ï¼Œå¯ä»¥å‘çŽ°çŠ¶æ€å­—æ®µä¸º"),t("strong",[s._v("waiting for table flush")])],1),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" information_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("processlist "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å½“å‰ï¼Œå¯ä»¥ç›´æŽ¥æ‰§è¡Œå¦‚ä¸‹è¯­å¥æŸ¥çœ‹æ‰€æœ‰çš„çº¿ç¨‹idçš„çŠ¶æ€ï¼Œæ‰¾åˆ°å¯¹åº”flushè¯­å¥çš„çº¿ç¨‹idåŽç›´æŽ¥killã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" processlist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-ç­‰å¾…è¡Œé”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç­‰å¾…è¡Œé”"}},[s._v("#")]),s._v(" 3.ç­‰å¾…è¡Œé”")]),s._v(" "),t("p",[t("strong",[s._v("åœ¨RRéš”ç¦»çº§åˆ«ä¸‹ï¼Œæ™®é€šçš„æŸ¥è¯¢è¯­å¥å› ä¸ºæ˜¯å¿«ç…§è¯»ï¼Œå¹¶ä¸ä¼šè¢«è¡Œé”é˜»å¡ž")]),s._v("ã€‚è‹¥selectæƒ³è¦å½“å‰è¯»ï¼Œæ‰§è¡Œä»¥ä¸‹SQLè¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("share")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ˜¾ç„¶æ—¢ç„¶æ˜¯å½“å‰è¯»ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«å…¶å®ƒæ›´æ–°è¯­å¥çš„è¡Œé”é˜»å¡žï¼ŒsessionBåªæœ‰ç­‰å¾…sessionAæäº¤äº‹åŠ¡é‡Šæ”¾è¡Œé”åŽï¼Œæ‰èƒ½æ‰§è¡Œselectè¯­å¥ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230629/image.5umtt5f7rgs0.webp",alt:""}})]),s._v(" "),t("p",[s._v("ðŸ’¡"),t("strong",[s._v("è§£å†³æ–¹æ¡ˆ")]),s._v("ï¼šç›´æŽ¥show processlistæŸ¥çœ‹æ¯ä¸ªçº¿ç¨‹çš„çŠ¶æ€ä½å¹¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå› æ­¤å…³é”®åœ¨äºŽ"),t("font",{attrs:{color:"red"}},[t("strong",[s._v("å¦‚ä½•æ‰¾åˆ°å“ªä¸ªçº¿ç¨‹idé˜»å¡žäº†sessionBçš„å½“å‰è¯»")])]),s._v("ï¼ŸMySQL5.7ç‰ˆæœ¬å¯ä»¥å€ŸåŠ©"),t("strong",[s._v("sys.innodb_lock_waits")]),s._v("è¡¨æŸ¥åˆ°ï¼š")],1),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t sys"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("innodb_lock_waits "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" locked_table"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("'test'.'t'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\\G\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("â€‹\tKILL QUERY 4è¡¨ç¤ºæš‚åœäº‹åŠ¡ä¸­çš„æŸ¥è¯¢è¯­å¥ï¼Œ"),t("strong",[s._v("å¹¶ä¸ä¼šæäº¤äº‹åŠ¡é‡Šæ”¾é”")]),s._v("ã€‚åªæœ‰æ‰§è¡ŒKILL 4æ‰èƒ½æ–­å¼€è¿žæŽ¥ï¼Œå›žæ»šäº‹åŠ¡é‡Šæ”¾é”ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_4-å¤šæ›´æ–°ç‰ˆæœ¬å·å¯¼è‡´çš„æŸ¥è¯¢æ…¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-å¤šæ›´æ–°ç‰ˆæœ¬å·å¯¼è‡´çš„æŸ¥è¯¢æ…¢"}},[s._v("#")]),s._v(" 4.å¤šæ›´æ–°ç‰ˆæœ¬å·å¯¼è‡´çš„æŸ¥è¯¢æ…¢")]),s._v(" "),t("p",[s._v("sessionAå¼€å¯äº‹åŠ¡åŽï¼ŒsessionBæ‰§è¡Œæ›´æ–°è¯­å¥ï¼Œ"),t("strong",[s._v("id=1è¿™è¡Œè®°å½•çš„ç‰ˆæœ¬å·æ€¥å‰§å¢žåŠ ")]),s._v("ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("å¯¹äºŽæ™®é€šselectæŸ¥è¯¢ï¼Œå› ä¸ºäº‹åŠ¡å½“å‰è¯»ï¼Œ"),t("strong",[s._v("åªèƒ½è¯»åˆ°updateè¯­å¥ä¹‹å‰çš„ç‰ˆæœ¬å·")]),s._v("ï¼Œå› æ­¤è¡Œè®°å½•â€œå½“å‰ç‰ˆæœ¬å·â€éœ€è¦æ ¹æ®undo logè®¡ç®—å¹¶"),t("font",{attrs:{color:"red"}},[t("strong",[s._v("å‘å‰å›žæ»šä¸€ä¸‡ä¸ªç‰ˆæœ¬å·")])]),s._v("ï¼Œè€Œè¿™ä¸ª"),t("strong",[s._v("å›žæ»šè®¡ç®—çš„ä»£ä»·")]),s._v("åœ¨å½“å‰æƒ…å†µä¸‹æ˜¯æ¯”è¾ƒå¤§çš„ã€‚")],1),s._v(" "),t("li",[s._v("è€Œå¯¹äºŽåŠ äº†è¡Œé”çš„å½“å‰è¯»çš„selectæŸ¥è¯¢ï¼Œå‘çŽ°è¡Œè®°å½•çš„å½“å‰ç‰ˆæœ¬å·å°±æ˜¯å½“å‰è¯»æ‰€éœ€è¦çš„æœ€æ–°çš„æ•°æ®ï¼Œå› æ­¤"),t("strong",[s._v("ä¸éœ€è¦ä»»ä½•å›žæ»šè®¡ç®—")]),s._v("ã€‚æ•…æ­¤æ—¶"),t("strong",[s._v("å½“å‰è¯»çš„æŸ¥è¯¢æ—¶é—´å’Œä»£ä»·æ›´å°")]),s._v("ã€‚")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230629/image.2ckx129fgvms.webp",alt:""}})])])}),[],!1,null,null,null);t.default=e.exports}}]);