(window.webpackJsonp=window.webpackJsonp||[]).push([[393],{712:function(t,_,s){"use strict";s.r(_);var r=s(4),a=Object(r.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"è¯¯åˆ æ•°æ®"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#è¯¯åˆ æ•°æ®"}},[t._v("#")]),t._v(" è¯¯åˆ æ•°æ®")]),t._v(" "),_("p",[t._v("æ— è®ºæ•°æ®å†æ€ä¹ˆæ— é™æ¢å¤ï¼Œæœ€é‡è¦çš„æ˜¯"),_("strong",[t._v("åšå¥½äº‹å‰é¢„é˜²")]),t._v("ï¼š")]),t._v(" "),_("ul",[_("li",[t._v("å°†"),_("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[_("strong",[t._v("sql_safe_updates")])]),t._v(" å‚æ•°è®¾ç½®ä¸ºonã€‚è¿™æ ·ä¸€æ¥æ‰§è¡Œdeleteä»¥åŠupdateè¯­å¥æ—¶ï¼Œå¿˜äº†åŠ whereæ¡ä»¶(ç¡®å®šäº†çœŸè¦åˆ é™¤æ•´å¼ è¡¨ï¼Œå¯ä»¥where id>=0)æˆ–è€…æ˜¯whereæ¡ä»¶æ²¡æœ‰åŒ…å«ç´¢å¼•å­—æ®µï¼Œè¿™æ¡æ›´æ–°æ“ä½œå°±ä¼šæŠ¥é”™ã€‚")],1),t._v(" "),_("li",[t._v("ä»£ç ä¸Šçº¿ä¹‹å‰ç»è¿‡SQLå®¡è®¡ã€‚")]),t._v(" "),_("li",[_("strong",[t._v("æ ¹æ®èŒè´£åˆ’åˆ†DBæ“ä½œæƒé™")]),t._v("ï¼šä¸šåŠ¡å¼€å‘ç”¨DMLæƒé™è´¦å·ï¼Œæ—¥å¸¸ä½¿ç”¨åªè¯»è´¦å·ã€‚")]),t._v(" "),_("li",[t._v("æ“ä½œè§„èŒƒï¼šæ¯”å¦‚åˆ é™¤è¡¨å‰ï¼Œå¯ä»¥å…ˆæ”¹æ•´ä¸ªè¡¨çš„è¡¨åï¼Œå¦‚æœå¯¹ä¸šåŠ¡æ— å½±å“å†åˆ è¡¨ï¼›è¦åˆ çš„è¡¨è¡¨ååŠ å›ºå®šçš„åç¼€ï¼Œåˆ è¡¨æ—¶å¿…é¡»é€šè¿‡ç®¡ç†(åå°æ‰§è¡Œã€‚")])]),t._v(" "),_("h2",{attrs:{id:"_1-è¯¯åˆ è¡Œ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-è¯¯åˆ è¡Œ"}},[t._v("#")]),t._v(" 1.è¯¯åˆ è¡Œ")]),t._v(" "),_("p",[t._v("è¯¯åˆ è¡Œå¯ä»¥"),_("font",{attrs:{color:"red"}},[_("strong",[t._v("åˆ©ç”¨binlogæ¢å¤è¡Œæ•°æ®")])]),t._v("ï¼Œæ ¸å¿ƒå°±æ˜¯å°†"),_("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[_("strong",[t._v("binlog_format")])]),t._v("è®¾ç½®ä¸ºrowæ ¼å¼ä¿å­˜åˆ—å­—æ®µå€¼ï¼Œä»¥åŠ"),_("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[_("strong",[t._v("binlog_row_image")])]),t._v("è®¾ç½®ä¸ºFULLè®°å½•æ¯è¡Œçš„å®Œæ•´è®°å½•ã€‚")],1),t._v(" "),_("p",[t._v("æ— è®ºè¯¯æ‰§è¡Œäº†æ›´æ–°ã€æ’å…¥ã€åˆ é™¤æ“ä½œï¼Œæ¢å¤æ—¶åªéœ€è¦ååºæ‰§è¡Œå¯¹åº”çš„äº‹åŠ¡å’Œæ“ä½œçš„è¡Œè®°å½•å³å¯ã€‚")]),t._v(" "),_("p",[t._v("æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š")]),t._v(" "),_("ul",[_("li",[_("strong",[t._v("æ€§èƒ½")]),t._v("æ–¹é¢è€ƒè™‘ï¼Œä½¿ç”¨truncate/drop tableè¿›è¡Œåˆ è¡¨æ“ä½œ")]),t._v(" "),_("li",[t._v("rowæ ¼å¼ä¸‹ï¼Œä½¿ç”¨deleteåˆ é™¤æ¢å¤ï¼›è€Œä½¿ç”¨truncate/dropåˆ™æ¢å¤ä¸äº†æ•°æ®ï¼Œå› ä¸ºbinlogè®°è½½çš„åªæœ‰statementæ ¼å¼çš„truncateè¯­å¥ï¼Œå¹¶æ²¡æœ‰è®°å½•æ•´å¼ è¡¨çš„è¡Œè®°å½•ã€‚")])]),t._v(" "),_("h2",{attrs:{id:"_2-è¯¯åˆ åº“è¡¨"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¯¯åˆ åº“è¡¨"}},[t._v("#")]),t._v(" 2.è¯¯åˆ åº“è¡¨")]),t._v(" "),_("p",[t._v("ä½¿ç”¨å…¨é‡å¤‡ä»½+å…¨é‡æ—¥å¿—çš„æ–¹å¼è¿›è¡Œæ¢å¤ã€‚éœ€è¦çº¿ä¸Š"),_("font",{attrs:{color:"red"}},[_("strong",[t._v("å®šæœŸå…¨é‡å¤‡ä»½ï¼Œå¹¶ä¸”å®æ—¶å¤‡ä»½binlog")])]),t._v("ã€‚")],1),t._v(" "),_("h3",{attrs:{id:"_2-1mysqlbinlogåº”ç”¨æ—¥å¿—å¤‡ä»½ç³»ç»Ÿçš„æ—¥å¿—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1mysqlbinlogåº”ç”¨æ—¥å¿—å¤‡ä»½ç³»ç»Ÿçš„æ—¥å¿—"}},[t._v("#")]),t._v(" 2.1mysqlbinlogåº”ç”¨æ—¥å¿—å¤‡ä»½ç³»ç»Ÿçš„æ—¥å¿—")]),t._v(" "),_("p",[t._v("åœºæ™¯ï¼š0ç‚¹æ‰§è¡Œäº†è¯¯åˆ é™¤æ“ä½œã€‚")]),t._v(" "),_("ol",[_("li",[t._v("é¦–å…ˆå–å‡ºè·ç¦»è¯¯æ“ä½œæœ€è¿‘ä¸€æ¬¡çš„å…¨é‡å¤‡ä»½ï¼Œç”¨å¤‡ä»½æ¢å¤å‡ºä¸€ä¸ªä¸´æ—¶åº“(ä½¿ç”¨"),_("strong",[t._v("mysqlbinlog")]),t._v("å‘½ä»¤åŠ ä¸Š-databaseå‚æ•°ï¼ŒæŒ‡å®šæ¢å¤çš„è¯¯åˆ è¡¨æ‰€åœ¨çš„ä¸´æ—¶åº“)ã€‚")]),t._v(" "),_("li",[t._v('ä»"æ—¥å¿—å¤‡ä»½ç³»ç»Ÿ"å½“ä¸­ï¼Œå–å‡º0ç‚¹ä¹‹åçš„æ—¥å¿—ã€‚')]),t._v(" "),_("li",[t._v("å°†è¿™äº›æ—¥å¿—"),_("strong",[t._v("é™¤äº†è¯¯åˆ åº“è¡¨æ•°æ®çš„è¯­å¥")]),t._v("ä»¥å¤–ï¼Œå…¨éƒ¨åº”ç”¨åˆ°ä¸´æ—¶åº“ã€‚å…·ä½“ä¸´æ—¶åº“å¦‚ä½•è·³è¿‡è¯¯åˆ é™¤æ“ä½œå¦‚ä¸‹ï¼š\n"),_("ul",[_("li",[t._v("ä½¿ç”¨äº†GTIDæ¨¡å¼ï¼Œåˆ™ç›´æ¥æ‹¿åˆ°è¯¯åˆ å‘½ä»¤äº‹åŠ¡çš„gtid1ï¼›åœ¨ä¸´æ—¶åº“ä¸Šæ‰§è¡Œä¸€ä¸ªç©ºäº‹åŠ¡ï¼Œå°†gtid1åŠ å…¥åˆ°ä¸´æ—¶åº“çš„GTIDé›†åˆå½“ä¸­ã€‚")]),t._v(" "),_("li",[t._v("å¦‚æœæ²¡æœ‰ä½¿ç”¨GTIDæ¨¡å¼ï¼Œåˆ™ä½¿ç”¨"),_("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[_("strong",[t._v("-stop-position")])]),t._v("å‚æ•°"),_("strong",[t._v("æ‰§è¡Œåˆ°è¯¯æ“ä½œä¹‹å‰çš„æ—¥å¿—")]),t._v("ï¼Œç„¶å"),_("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[_("strong",[t._v("-start-position")])]),t._v("æŒ‡å®š"),_("strong",[t._v("ä»è¯¯æ“ä½œäº‹åŠ¡ä¹‹åçš„æ—¥å¿—å¼€å§‹")]),t._v("ã€‚")],1)])])]),t._v(" "),_("p",[t._v("ğŸ’£å­˜åœ¨çš„é—®é¢˜ï¼šè¿‡äºä¾èµ–mysqlbinlog,ä¸ä»…åªèƒ½"),_("strong",[t._v("å•çº¿ç¨‹")]),t._v("åº”ç”¨æ—¥å¿—è¿›è¡ŒåŒæ­¥ï¼ŒåŒæ—¶è¿˜ä¼šé‡æ”¾è§£æå…¶å®ƒâ€œå¹¶æ²¡æœ‰è¯¯åˆ çš„è¡¨â€ã€‚")]),t._v(" "),_("h3",{attrs:{id:"_2-2ä¸´æ—¶å®ä¾‹åº”ç”¨çº¿ä¸Šå¤‡åº“çš„æ—¥å¿—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2ä¸´æ—¶å®ä¾‹åº”ç”¨çº¿ä¸Šå¤‡åº“çš„æ—¥å¿—"}},[t._v("#")]),t._v(" 2.2ä¸´æ—¶å®ä¾‹åº”ç”¨çº¿ä¸Šå¤‡åº“çš„æ—¥å¿—")]),t._v(" "),_("p",[t._v("å¦ä¸€ç§"),_("strong",[t._v("åŠ é€Ÿ")]),t._v("çš„æ–¹æ³•å¦‚ä¸‹ï¼Œ"),_("font",{attrs:{color:"red"}},[_("strong",[t._v("å°†æ•´ä¸ªä¸´æ—¶å®ä¾‹è®¾ç½®æˆçº¿ä¸Šå¤‡åº“çš„ä»åº“")])]),t._v("ã€‚")],1),t._v(" "),_("p",[_("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/blage-coding/picx-images-hosting@master/20230705/image.1tmd524uoz0g.webp",alt:""}})]),t._v(" "),_("ol",[_("li",[_("p",[t._v("é¦–å…ˆè¿˜æ˜¯æ ¹æ®å…¨é‡å¤‡ä»½åˆ›å»ºä¸€ä¸ªä¸´æ—¶å®ä¾‹ã€‚")])]),t._v(" "),_("li",[_("p",[t._v("åœ¨ä¸´æ—¶å®ä¾‹start slaveä¹‹å‰ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œ"),_("strong",[t._v("æŒ‡å®šâ€œä¸´æ—¶å®ä¾‹â€åªåŒæ­¥â€œçº¿ä¸Šå¤‡åº“â€çš„é‚£å¼ è¯¯åˆ è¡¨çš„æ‰€æœ‰æ—¥å¿—è®°å½•")]),t._v("ã€‚")]),t._v(" "),_("div",{staticClass:"language-sql line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-sql"}},[_("code",[t._v("change "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("replication")]),t._v(" filter replicate_do_table"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tbl_name"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br")])]),_("p",[t._v("å¦‚æœä¸´æ—¶å®ä¾‹æ‰€éœ€è¦çš„binlogåœ¨å¤‡åº“ä¸Šæ²¡æœ‰(æ—¶é—´å¤ªä¹…å¤‡åº“åˆ é™¤äº†)ï¼Œé‚£ä¹ˆåªèƒ½"),_("strong",[t._v("ä»â€œå¤‡ä»½ç³»ç»Ÿâ€æ‰¾åˆ°")]),t._v("å¹¶ä¸‹è½½æ‰€éœ€è¦çš„binlogï¼š")]),t._v(" "),_("ul",[_("li",[t._v('ä»æ—¥å¿—å¤‡ä»½ç³»ç»Ÿä¸‹è½½ç¼ºå¤±çš„binlogåˆ°â€œçº¿ä¸Šå¤‡åº“â€ä¸­ï¼Œå¹¶åŠ å…¥master.indexæ–‡ä»¶ï¼Œæœ€åé‡å¯"çº¿ä¸Šå¤‡åº“"')]),t._v(" "),_("li",[t._v("å†ç”±â€œçº¿ä¸Šå¤‡åº“â€å°†è¯¯åˆ æ—¥å¿—åŒæ­¥åˆ°â€œä¸´æ—¶å®ä¾‹â€å½“ä¸­")])])]),t._v(" "),_("li",[_("p",[t._v("æ­¤æ—¶ä¸ä»…å¯ä»¥ä»…åŒæ­¥è¯¯åˆ è¡¨ï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ©ç”¨å¹¶è¡Œå¤åˆ¶æŠ€æœ¯åŠ é€Ÿæ¢å¤ã€‚")])])]),t._v(" "),_("p",[t._v("ğŸ’£å­˜åœ¨çš„é—®é¢˜ï¼š"),_("strong",[t._v("æ¢å¤æ—¶é—´ä¸å¯æ§")]),t._v("ã€‚å‡è®¾å…¨é‡å¤‡ä»½ä¸€å‘¨ä¸€å¤‡ï¼Œè€Œæ°å·§åœ¨ä¸Šä¸€æ¬¡å¤‡ä»½çš„ç¬¬å…­å¤©å‘ç”Ÿäº†è¯¯æ“ä½œï¼Œé‚£ä¹ˆæ‹¿åˆ°ä¸´æ—¶å®ä¾‹åå°±éœ€è¦æ¢å¤6å¤©çš„æ—¥å¿—ã€‚")]),t._v(" "),_("h2",{attrs:{id:"_3-å»¶è¿Ÿå¤åˆ¶çš„åº“è¡¨"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-å»¶è¿Ÿå¤åˆ¶çš„åº“è¡¨"}},[t._v("#")]),t._v(" 3.å»¶è¿Ÿå¤åˆ¶çš„åº“è¡¨")]),t._v(" "),_("p",[_("strong",[t._v("å»¶è¿Ÿå¤åˆ¶çš„å¤‡åº“")]),t._v("ï¼šé€šè¿‡CHANGE MASTER TO MASTER DELAY =Nå‘½ä»¤ï¼ŒæŒ‡å®šå½“å‰å¤‡åº“çš„æ›´æ–°åŒæ­¥ä¸ä¸»åº“æœ‰Nç§’çš„å»¶è¿Ÿã€‚")]),t._v(" "),_("p",[t._v("é€šè¿‡æ­å»ºè¿™ä¹ˆä¸€ä¸ªå»¶è¿Ÿå¤‡åº“ï¼Œåªè¦åœ¨Nç§’å†…å‘ç°å‡ºç°äº†è¯¯æ“ä½œå‘½ä»¤ï¼Œé‚£ä¹ˆç›´æ¥åœ¨è¯¥å¤‡åº“ä¸Šstop slaveï¼ŒåŒæ—¶åœ¨å¤‡åº“ä¸Šè·³è¿‡è¯¯æ“ä½œå‘½ä»¤ï¼Œæœ€å¤šè¿½1hçš„binlogåå†ä¸»ä»åˆ‡æ¢ã€‚è¿™æ ·å¤§å¤§"),_("font",{attrs:{color:"red"}},[_("strong",[t._v("ç¼©çŸ­æ¢å¤æ•°æ®æ‰€éœ€è¦çš„æ—¶é—´")])]),t._v("ã€‚")],1)])}),[],!1,null,null,null);_.default=a.exports}}]);