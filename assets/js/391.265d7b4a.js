(window.webpackJsonp=window.webpackJsonp||[]).push([[391],{709:function(t,s,a){"use strict";a.r(s);var r=a(4),_=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mysqlæ€§èƒ½æé«˜æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqlæ€§èƒ½æé«˜æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" MySQLæ€§èƒ½æé«˜æ–¹æ¡ˆ")]),t._v(" "),s("h2",{attrs:{id:"çŸ­è¿æ¥æ¨¡å¼é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çŸ­è¿æ¥æ¨¡å¼é—®é¢˜"}},[t._v("#")]),t._v(" çŸ­è¿æ¥æ¨¡å¼é—®é¢˜")]),t._v(" "),s("p",[t._v("çŸ­è¿æ¥æ¨¡å¼ï¼šçº¿ç¨‹è¿æ¥åˆ°æ•°æ®åº“åï¼Œ"),s("strong",[t._v("æ‰§è¡Œå®Œå¾ˆå°‘çš„SQLå°±ç›´æ¥æ–­å¼€")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("MySQLå»ºç«‹è¿æ¥æˆæœ¬é«˜ï¼ŒåŒ…æ‹¬ä¸‰æ¬¡æ¡æ‰‹ä»¥åŠç™»å½•æƒé™æ ¡éªŒã€‚å› æ­¤è¿æ¥èµ„æºéå¸¸çè´µï¼Œå¦‚æœæŸä¸ªè¿æ¥å¤„ç†SQLæ¯”è¾ƒæ…¢ï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¿æ¥æ•°æš´æ¶¨ï¼Œè¶…è¿‡max_connectionså"),s("strong",[t._v("æ•°æ®åº“å°±ä¼šæ‹’ç»è¿æ¥")]),t._v("ï¼Œä¸šåŠ¡ä¸Šçœ‹æ•°æ®åº“å¤„äºä¸å¯ç”¨çŠ¶æ€ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœè°ƒé«˜max_connectionsçš„å€¼ï¼Œå¯èƒ½å¯¼è‡´"),s("strong",[t._v("ç³»ç»Ÿè´Ÿè½½è¿›ä¸€æ­¥æ‰©å¤§")]),t._v("ï¼Œå·²ç»è¿æ¥çš„çº¿ç¨‹å¯èƒ½æ‹¿ä¸åˆ°CPUèµ„æºæ‰§è¡ŒSQLä¸šåŠ¡ã€‚")])]),t._v(" "),s("p",[s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("max_connections")])]),t._v("ï¼š"),s("strong",[t._v("æœ€å¤§è¿æ¥æ•°")]),t._v("ã€‚è¶…è¿‡è¯¥é˜ˆå€¼åæ‹’ç»åç»­æ‰€æœ‰çº¿ç¨‹çš„è¿æ¥ã€‚")],1),t._v(" "),s("p",[s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("wait_timeout")])]),t._v("ï¼š"),s("strong",[t._v("æœ€å¤§çº¿ç¨‹ç©ºé—²æ—¶é•¿")]),t._v("ã€‚å½“ä¸€ä¸ªçº¿ç¨‹ç©ºé—²wait_timeoutç§’åï¼Œå°±ä¼šè¢«MySQLç›´æ¥è¸¢æ‰æ–­å¼€è¿æ¥ã€‚")],1),t._v(" "),s("p",[t._v("ğŸ’¡å¼‚å¸¸è¿æ¥å’Œæ–­å¼€å¾ˆå¸¸è§ï¼Œä¸šåŠ¡ç«¯ä»£ç è¦ä¿è¯æœ‰"),s("strong",[t._v("è¿æ¥é‡è¯•")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ–¹æ¡ˆä¸€ã€å æ®è¿æ¥ä¸å·¥ä½œçš„çº¿ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ¡ˆä¸€ã€å æ®è¿æ¥ä¸å·¥ä½œçš„çº¿ç¨‹"}},[t._v("#")]),t._v(" æ–¹æ¡ˆä¸€ã€å æ®è¿æ¥ä¸å·¥ä½œçš„çº¿ç¨‹")]),t._v(" "),s("p",[s("strong",[t._v("äº‹åŠ¡å¤–ç©ºé—²è¿æ¥")]),t._v("ï¼šä¸€äº›selectæŸ¥è¯¢è¯­å¥ï¼ŒçŸ­æŸ¥è¯¢ã€‚æ–­å¼€è¿æ¥åå½±å“ä¸å¤§ã€‚")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("å¦‚æœè¿æ¥æ•°è¿‡å¤šï¼Œå¯ä»¥æ–­å¼€äº‹åŠ¡å¤–ç©ºé—²å¤ªä¹…çš„è¿æ¥ï¼Œè¿˜ä¸å¤Ÿå¯ä»¥æ–­å¼€äº‹åŠ¡å†…ç©ºé—²å¤ªä¹…çš„è¿æ¥")])]),t._v("ã€‚è€Œå¦‚ä½•æ‰¾åˆ°å¹¶åˆ¤æ–­å“ªäº›çº¿ç¨‹æ˜¯ç©ºé—²çš„è¿æ¥ï¼Œå“ªäº›æ˜¯äº‹åŠ¡ä¸­çš„è¿æ¥ï¼Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹è¯­å¥æŸ¥çœ‹"),s("strong",[t._v("å…·ä½“äº‹åŠ¡çŠ¶æ€")]),t._v("ï¼š")],1),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" information_schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innodb_trx\\G\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("trx_mysql_thread_id")])]),t._v("ä¼šæ˜¾ç¤ºè¿˜å¤„åœ¨äº‹åŠ¡ä¸­çš„çº¿ç¨‹idï¼Œå› æ­¤å‰©ä½™çš„çº¿ç¨‹å°±æ˜¯ç©ºé—²çš„äº‹åŠ¡ä¹‹å¤–çš„ã€‚åœ¨æœåŠ¡ç«¯ä½¿ç”¨ä¸‹é¢è¯­å¥æ–­å¼€è¿æ¥5ï¼Œæ­¤æ—¶è¿æ¥5çš„çº¿ç¨‹å‘èµ·ä¸‹æ¬¡è¯·æ±‚åä¼šæŠ¥é”™ï¼Œæç¤ºå·²æ–­å¼€è¿æ¥ã€‚")],1),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" connection "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"æ–¹æ¡ˆäºŒã€å‡å°‘è¿æ¥è¿‡ç¨‹çš„æ¶ˆè€—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ¡ˆäºŒã€å‡å°‘è¿æ¥è¿‡ç¨‹çš„æ¶ˆè€—"}},[t._v("#")]),t._v(" æ–¹æ¡ˆäºŒã€å‡å°‘è¿æ¥è¿‡ç¨‹çš„æ¶ˆè€—")]),t._v(" "),s("p",[t._v("åœºæ™¯ï¼šçŸ­è¿æ¥æ•°æš´å¢ï¼Œæ•°æ®åº“è¢«"),s("strong",[t._v("å¤šä¸ªè¿æ¥è¡Œä¸º")]),t._v("æ‰“æŒ‚äº†ï¼Œè€Œå®é™…è¿æ¥çš„çº¿ç¨‹æ•°é‡è¿˜æ²¡æœ‰è¾¾åˆ°æœ€å¤§é˜ˆå€¼ã€‚")]),t._v(" "),s("p",[t._v("æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("-skip-grant-tables")])]),t._v("å‚æ•°é‡å¯æ•°æ®åº“ï¼Œè¿™æ ·"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æ•´ä¸ªMySQLä¼šè·³è¿‡æ‰€æœ‰çš„æƒé™éªŒè¯é˜¶æ®µï¼ŒåŒ…æ‹¬è¿æ¥è¿‡ç¨‹å’Œè¯­å¥æ‰§è¡Œè¿‡ç¨‹")])]),t._v("ã€‚")],1),t._v(" "),s("p",[t._v("é—®é¢˜ï¼šæ•°æ®åº“å­˜åœ¨å®‰å…¨é—®é¢˜ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ…¢æŸ¥è¯¢æ€§èƒ½é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ…¢æŸ¥è¯¢æ€§èƒ½é—®é¢˜"}},[t._v("#")]),t._v(" æ…¢æŸ¥è¯¢æ€§èƒ½é—®é¢˜")]),t._v(" "),s("p",[t._v("åœ¨ä¸Šçº¿ä¹‹å‰ï¼Œå¯ä»¥"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("é€šè¿‡æ¨¡æ‹Ÿæ•°æ®å¯¹æ•°æ®åº“è¿›è¡Œé¢„æ’æŸ¥")])]),t._v("ï¼Œä»è€ŒèŠ‚çœä¸‹æ•…éšœå¤ç›˜æ—¶é—´ï¼š")],1),t._v(" "),s("ol",[s("li",[t._v("ä¸Šçº¿å‰åœ¨æµ‹è¯•ç¯å¢ƒï¼ŒæŠŠæ…¢æŸ¥è¯¢æ—¥å¿—(slow log)æ‰“å¼€ï¼ŒåŒæ—¶æŠŠlong_query_timeè®¾ç½®ä¸º0ï¼Œ"),s("strong",[t._v("ä¿è¯æ‰€æœ‰SQLè¯­å¥éƒ½ä¼šè¢«è®°å½•åœ¨æ…¢æŸ¥è¯¢æ—¥å¿—")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("åœ¨æµ‹è¯•è¡¨æ’å…¥æ¨¡æ‹Ÿçº¿ä¸Šçš„æ•°æ®ï¼Œåšä¸€éå›å½’æµ‹è¯•ã€‚")]),t._v(" "),s("li",[t._v("è§‚å¯Ÿæ…¢æŸ¥è¯¢æ—¥å¿—é‡Œæ¯ç±»è¯­å¥çš„è¾“å‡ºï¼Œå¹¶ç•™æ„"),s("font",{staticStyle:{background:"rgb(240, 240, 236)"},attrs:{color:"#d94a33"}},[s("strong",[t._v("Rows_examined")])]),t._v("å­—æ®µ(serverå±‚ç»Ÿè®¡)æ‰«æè¡Œæ•°æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚")],1),t._v(" "),s("li",[t._v("å¯ä»¥ä½¿ç”¨å¼€æºå·¥å…·pt-query-digeståˆ†ææ‰€æœ‰SQLè¯­å¥è¿”å›çš„ç»“æœã€‚")])]),t._v(" "),s("p",[t._v("MySQLå¼•å‘æ…¢æŸ¥è¯¢çš„æ€§èƒ½é—®é¢˜ï¼Œå¤§ä½“ä¸ŠåŒ…å«å¦‚ä¸‹ä¸‰ç§å¯èƒ½ï¼Œä¸‹é¢å…·ä½“åˆ†æä»¥ä¸‹ä¸‰ç§æƒ…å†µä»¥åŠå¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚")]),t._v(" "),s("h3",{attrs:{id:"æƒ…å†µä¸€ã€ç´¢å¼•æ²¡æœ‰è®¾è®¡å¥½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒ…å†µä¸€ã€ç´¢å¼•æ²¡æœ‰è®¾è®¡å¥½"}},[t._v("#")]),t._v(" æƒ…å†µä¸€ã€ç´¢å¼•æ²¡æœ‰è®¾è®¡å¥½")]),t._v(" "),s("p",[t._v("MySQLæ”¯æŒOnline DDLï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("é€šè¿‡ç´§æ€¥åˆ›å»ºç´¢å¼•æ¥è§£å†³")])]),t._v("ã€‚åœ¨ä¸Šçº¿æˆ–è€…å¹¶å‘åœºæ™¯ä¸‹ï¼Œæœ€é«˜æ•ˆçš„åšæ³•å°±æ˜¯ç›´æ¥æ‰§è¡Œalter tableè¯­å¥ã€‚")],1),t._v(" "),s("p",[t._v("å‡è®¾æ•°æ®åº“æœåŠ¡æ˜¯ä¸€ä¸»ä¸€å¤‡ï¼Œé‚£ä¹ˆDDLæ–¹æ¡ˆå¦‚ä¸‹ï¼Œè™½ç„¶æ¯”è¾ƒå¤è€ä½†æ˜¯"),s("strong",[t._v("æ•ˆç‡æ˜¯æœ€é«˜")]),t._v("çš„ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("å¤‡åº“ä¸Šæ‰§è¡Œset sql_log_bin=offï¼Œä¸å†™binlogï¼Œç„¶åæ‰§è¡Œalter tableè¯­å¥åœ¨å¤‡åº“ä¸Šæ·»åŠ ç´¢å¼•ã€‚")]),t._v(" "),s("li",[t._v("æ‰§è¡Œä¸»å¤‡åˆ‡æ¢")]),t._v(" "),s("li",[t._v("åœ¨ç”±ä¸»åº“åˆ‡æ¢è¿‡æ¥çš„å¤‡åº“ä¸Šæ‰§è¡Œset sql_log_bin=offï¼Œç„¶åæ‰§è¡Œalter tableï¼Œä¸å½“å‰ä¸»åº“ä¿æŒåŒæ­¥ã€‚")])]),t._v(" "),s("p",[t._v("æ›´ç¨³å¦¥çš„æ–¹æ¡ˆæ˜¯é‡‡ç”¨gh-ostè¿™æ ·çš„æ–¹æ¡ˆã€‚")]),t._v(" "),s("h3",{attrs:{id:"æƒ…å†µäºŒã€è¯­å¥æ²¡å†™å¥½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒ…å†µäºŒã€è¯­å¥æ²¡å†™å¥½"}},[t._v("#")]),t._v(" æƒ…å†µäºŒã€è¯­å¥æ²¡å†™å¥½")]),t._v(" "),s("p",[t._v("SQLè¯­å¥æ²¡å†™å¥½å¯¼è‡´æ²¡æœ‰ä½¿ç”¨ä¸ŠB+æ ‘ç´¢å¼•çš„å¿«é€Ÿå®šä½åŠŸèƒ½ã€‚")]),t._v(" "),s("p",[t._v("MySQL5.7æä¾›"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("query_rewrite")])]),t._v("è¯­å¥é‡å†™åŠŸèƒ½ã€‚å…·ä½“æ¥è¯´å¯ä»¥"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æå‰åœ¨MySQLä¸­æ’å…¥ä¸€æ¡æ–°çš„è§„åˆ™åŒ¹é…æ ·å¼")])]),t._v("ï¼Œå½“å‰å®¢æˆ·ç«¯çš„SQLæŸ¥è¯¢è¯­å¥å¦‚æœæ»¡è¶³è§„åˆ™ï¼Œåˆ™MySQLä¼š"),s("strong",[t._v("è‡ªåŠ¨ä¿®æ”¹")]),t._v("ä¸ºæ€§èƒ½æ›´é«˜çš„SQLè¯­å¥ã€‚")],1),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" query_rewrite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rewrite_rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pattern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" replacement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pattern_database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from t where id + 1 = ?"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from t where id = ? - 1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"db1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("call")]),t._v(" query_rewrite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flush_rewrite_rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"æƒ…å†µä¸‰ã€mysqlé€‰é”™äº†ç´¢å¼•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒ…å†µä¸‰ã€mysqlé€‰é”™äº†ç´¢å¼•"}},[t._v("#")]),t._v(" æƒ…å†µä¸‰ã€MySQLé€‰é”™äº†ç´¢å¼•")]),t._v(" "),s("p",[t._v("æ–¹æ¡ˆï¼šç›´æ¥åœ¨åŸè¯­å¥æˆ–è€…åœ¨æŸ¥è¯¢é‡å†™ä¸Š"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("åŠ force index")])]),t._v("ï¼ŒæŒ‡å®šSQLè¯­å¥ä½¿ç”¨å“ªä¸ªç´¢å¼•ã€‚")],1),t._v(" "),s("h2",{attrs:{id:"qpsæš´å¢é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#qpsæš´å¢é—®é¢˜"}},[t._v("#")]),t._v(" QPSæš´å¢é—®é¢˜")]),t._v(" "),s("p",[t._v("æŸä¸ªSQLè¯­å¥çš„QPSæš´æ¶¨ï¼Œæˆ–è€…æ˜¯"),s("strong",[t._v("æŸä¸ªæ–°åŠŸèƒ½bug")]),t._v("ï¼Œå¯¼è‡´æ•´ä¸ªMySQLå‹åŠ›è¿‡å¤§ã€‚")]),t._v(" "),s("p",[t._v("æœ€ç†æƒ³çš„è§£å†³æ–¹æ¡ˆæ˜¯è®©ä¸šåŠ¡æŠŠæ•´ä¸ªâ€œåŠŸèƒ½â€ä¸‹æ‰ï¼Œå…·ä½“å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ–¹æ¡ˆä¸€ï¼šå…¨æ–°çš„ä¸šåŠ¡bugå¯¼è‡´ã€‚DBè¿ç»´å¦‚æœæ¯”è¾ƒè§„èŒƒï¼Œæ­¤æ—¶å¯ä»¥ä¸šåŠ¡æ–¹å°†åŠŸèƒ½ä¸‹æ‰ï¼Œç„¶å"),s("strong",[t._v("æ•°æ®åº“æ–¹é¢ç›´æ¥å°†ç›¸å…³çš„ç™½åå•")]),t._v("å»æ‰ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ–¹æ¡ˆäºŒï¼šå¦‚æœè¿™ä¸ªåŠŸèƒ½æ˜¯å•ç‹¬ç‰¹å®šæ•°æ®åº“ç”¨æˆ·å¯¼è‡´çš„ã€‚é‚£ä¹ˆå¯ä»¥ç”¨ç®¡ç†å‘˜è´¦å·"),s("strong",[t._v("ç›´æ¥åˆ é™¤è¯¥ç”¨æˆ·ï¼Œæ–­å¼€ç°æœ‰è¿æ¥")]),t._v("ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ–¹æ¡ˆä¸‰ï¼šå¦‚æœè¿™ä¸ªåŠŸèƒ½å’Œä¸»ä½“åŠŸèƒ½æ˜¯éƒ¨ç½²åœ¨ä¸€èµ·å¹¶ä¸”æ˜¯è€¦åˆçš„ã€‚å¯ä»¥é€šè¿‡"),s("strong",[t._v("æ§åˆ¶åŠŸèƒ½å¯¹åº”çš„SQLè¯­å¥")]),t._v("æ¥é™ä½QPSï¼Œæ¯”å¦‚å¯ä»¥åˆ©ç”¨ä¸Šé¢çš„SQLé‡å†™ï¼Œ"),s("font",{attrs:{color:"red"}},[s("strong",[t._v("æŠŠæ‰€æœ‰å‹åŠ›å¤§çš„SQLè¯­å¥å…¨éƒ½æ”¹å†™ä¸ºâ€œselect 1â€å¹¶è¿”å›")])]),t._v("ã€‚")],1)])]),t._v(" "),s("p",[t._v("ä¸Šè¿°æ–¹æ¡ˆä¸€äºŒçš„ä¾èµ–äºè§„èŒƒçš„è¿ç»´ä½“ç³»ã€‚æ–¹æ¡ˆä¸‰å¦‚æœä¸šåŠ¡å’ŒåŠŸèƒ½è€¦åˆåº¦æ¯”è¾ƒé«˜ï¼Œå¯èƒ½ä¼šå½±å“è¯¯ä¼¤å…¶å®ƒçš„ä¸šåŠ¡ï¼Œæ‰€ä»¥ä»…é€‚åˆåº”æ€¥æƒ…å†µä¸‹çš„æ­¢è¡€å¤„ç†ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ç£ç›˜ioç“¶é¢ˆé—®é¢˜è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç£ç›˜ioç“¶é¢ˆé—®é¢˜è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" ç£ç›˜IOç“¶é¢ˆé—®é¢˜è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ–¹æ¡ˆä¸€ã€è®¾ç½®binlog_group_commit_sync_delayå’Œbinlog_group_commit_sync_no_delay_countä¸¤ä¸ªå‚æ•°ï¼Œå»¶é•¿åˆ·ç›˜çš„æ—¶æœºï¼Œå‡å°‘ç£ç›˜IOæ¬¡æ•°ã€‚")]),t._v(" "),s("p",[t._v("ç¼ºç‚¹ï¼šå¯èƒ½ä¼šå»¶é•¿SQLè¯­å¥çš„iå“åº”æ—¶é—´")])]),t._v(" "),s("li",[s("p",[t._v("æ–¹æ¡ˆäºŒã€è®¾ç½®sync_binlogæ”¹ä¸ºå¤§äº1ï¼Œåˆ†ç»„åˆ·ç›˜æäº¤")]),t._v(" "),s("p",[t._v("ç¼ºç‚¹ï¼šæ•°æ®åº“å®•æœºå¯èƒ½ä¼šå¯¼è‡´å†…å­˜ä¸­Nä¸ªäº‹åŠ¡æ—¥å¿—çš„ä¸¢å¤±")])]),t._v(" "),s("li",[s("p",[t._v("æ–¹æ¡ˆä¸‰ã€è®¾ç½®innodb_flush_log_at_trx_commitä¸º0ï¼Œå°†redologå†™åˆ°æ–‡ä»¶ç³»ç»Ÿçš„page cache")]),t._v(" "),s("p",[t._v("ç¼ºç‚¹ï¼šä¸»æœºæ–­ç”µä¸¢å¤±redolog")])])])])}),[],!1,null,null,null);s.default=_.exports}}]);